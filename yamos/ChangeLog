---------------------------
YAM Open Source - ChangeLog
---------------------------

$Id$
$Source$

2004-03-08  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_global.c: changed version string CPU information to
      place a simple [68k] string to the $VER: string if YAM was
      compiled with either the -m68020-40 or -m68020-60 option.
    * added support for specifying socket options in the .config
      file within the hidden section. Per default no additional
      socket options are specified, so the TCP/IP stack defaults
      are used. However, in some cases it may increase the
      transfer speed and probably reduce the latency of connections.
      Please note that the syntax for specifying socket options in
      the hidden section is similar to specifying socket options
      in Samba. For example, with LAN based connections it may make
      sense to specify the "SocketOptions" option as:
      "SO_KEEPALIVE TCP_NODELAY IPTOS_LOWDELAY SO_SNDBUF=16384
       SO_RCVBUF=16384"
      In addition to that, the options "SO_SNDTIMEO=x" and
      "SO_RCVTIMEO=x" may be usfull in cases where connections are
      stalled and an automatic timeout for transfers are required.
      To be more precise, documentation follows ASAP.
    * added support for directly specifying the buffer size for
      the TCP/IP routines of YAM in the hidden configuration
      section. Per default a "TRBufferSize = 8192" is used, which
      should be sufficient for most jobs.

2004-03-07  Jens Langner <Jens.Langner@light-speed.de>

    * retired the old socket library includes in favour of the new
      bsdsocket.library interface of Roadshow. This doesn`t mean you
      need Roadshow for a working YAM, but it will allow us to use
      special features of Roadshow in future as this is going to be
      the default TCP/IP stack of future AmigaOS versions.
    * YAM.c: added compiler version to compile information of the
      about/splash window. As YAM can be compiled with different
      versions and types of compilers it`s probably a good idea
      to have an information about that in the about window.
    * all: fixed some more compiler warnings which occurred by
      introducing the -W compiler option. Now xget() is defined
      as an inline function and used everywhere throughout the
      sources so that the type-punned gcc warnings of gcc3
      disappear.

2004-03-02  Jens Langner <Jens.Langner@light-speed.de>

    * all: fixed some compiler warnings which are mainly caused by
      unused parameters and so on.
    * Makefiles: added -W option to get out more detailed warning
      messages from the gcc compiler.

2004-02-23  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MI.c: fixed recently introduced bug in base64decode_file()
      routines and changed alogrithm to use pointer-arithmetic instead
      of direct array access methods.

2004-02-21  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MI.c, YAM_RE.c, YAM_UT.c: fixed a bug in the
      base64decode_file() routines where the routines where unable
      to deal with base64 encoded strings that weren`t a multiple
      of 4.
    * YAM.c, YAM_TR.c, YAM_UT.c: retired the YAM_compat.h header in
      favour of some preprocessor macro sets. Sorry Gunther, but your
      intention to use the DCE feature of the compiler is a bit unwanted
      here. It makes it impossible to compile a debug version of YAM
      because if the optimizer of the compiler is disabled, the unused
      parts of YAM produce a unresolve symbols error on linking. And IMHO
      it is anyway a better solution to use preprocessor macros here.

2004-02-20  Gunther Nikl <gni@gecko.de>

    * YAM_compat.h: OS4 compatibility header.
    * YAM.c, YAM_TR.c, YAM_UT.c: Use it.

2004-02-15  Jens Langner <Jens.Langner@light-speed.de>

    * smakefile: adapted SAS/C makefile to also put all object
      files in a separate object directory like the gcc makefiles.

2004-02-14  Jens Langner <Jens.Langner@light-speed.de>

    * fixed a whole bunch of gcc dependent compiler warnings. Now
      it should compile without any warning if gcc 2.95.3 is used.
    * Makefile.OS4/MorphOS: modified and improved makefiles and
      synced them with the latest changes done to the main Makefile.

2004-02-13  Jens Langner <Jens.Langner@light-speed.de>

    * Makefile: modified and improved. Now it omits the compiler
      command line and puts the object files in a separate directory.
    * OS4: final changes to get a first working native PPC version
      for AmigaOS4. Now it at least seems to popup the GUI and
      doesn't crash on exit anymore. Let's see if it also works
      reliable for others now.

2004-02-12  Alexey Ivanov <amis@amiga.org.ru>

    * MOS: generate correct ppcinline. Change makefile for MorphOS.

2004-01-31  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: enhanced the text quoting routines once more. Now
      they also take care of indentions and should work more
      accurate now.

2004-01-24  Jens Langner <Jens.Langner@light-speed.de>

    * OS4: some more modifications to get YAM working on AmigaOS4.

2004-01-23  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: slightly modified InitLib() to correctly set the library
      base from the pointer that is provided as an argument. Previously
      only the local pointer was set and returned, which was not
      exactly my intention in first place ;)
      
2004-01-22  Jens Langner <Jens.Langner@light-speed.de>

    * OS4: finally YAM compiles and links with the AmigaOS4
      cross compiler and the standard SDK. Added the OS4 new
      style GetInterface/DropInterfac calls throughout the whole
      sources. Now it's time for some tests because there are surely
      still some OS4 dependant problems we have to solve before
      we can consider this OS4 port stable.

2004-01-21  Jens Langner <Jens.Langner@light-speed.de>

    * OS4: more adaptions to the includes and some sources to get
      more AmigaOS4 compatible.

2004-01-18  Jens Langner <Jens.Langner@light-speed.de>

    * Makefile.OS4: added first version of AmigaOS4 aware makefile.
      In the event of preparing a first OS4 version some includes
      has been altered in the includes directory and sources were
      adapted were necessary. The OS4 version still doesn`t compile
      yet, but lets hope we can sort the problems out soon.

2004-01-17  Jens Langner <Jens.Langner@light-speed.de>

    * updated all sources and locale files to reflect the year 2004
      within the copyright messages.
    * YAM_UT.c: after receiving some bug reports about some screwed
      up text while replying mails, I realized that the quotation
      functions of YAM were somehow totally broken and way to
      complicated/slow.
      Therefore I totally rewrote the functions for generating
      quoted reply texts as well as applying an automatic wordwrap
      if some text passages exceed the specified text width. Like
      anything new, this needs some more testing before these new
      routines can be considered stable, but the first tests with
      some complicated mails look good and promising that this new
      functions work way better than the previous more or less
      cryptic version.

2004-01-13  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: reworked the PlaySound() function to not use any
      temporary signals to get noticed when the sound is finished
      with playing. This should fixed the reported lock ups which
      sometimes happens if another audio channel is currently in
      use. In addition, YAM plays the sound now totally asyncron,
      which means the GUI doesn`t go to sleep while the sound is
      playing.

2004-01-11  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: modified the error checking routines of the POP3
      routines. This fixes a bug that caused YAM not reporting
      any error if the POP3 server immediatlely terminates the
      connection directly after an emitted connect.

2004-01-06  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: as promised before, I totally reworked the
      DIGEST-MD5 authentification routines. Previously it wasn`t
      working at all and now seems to perfectly conform to
      RFC 2831.
      Also exchanged the authentification priority to first check
      for a possible DIGEST-MD5 authentification as this type of
      authentification is per definition more secure than the
      CRAM-MD5 variant.

2004-01-04  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: reworked the whole SMTP AUTH routines to work
      more accurate according to their respectify RFC. This should
      also hopefully fix the newly introduced problems with the
      PLAIN and LOGIN authentification.
      During the tests on all authentification methods I also
      realized that the whole DIGEST-MD5 auth implementation seems
      to be broken by design. This really requires a complete
      rework as the current implementation doesn`t work at all like
      it should.

2003-12-29  Alexey Ivanov <amis@amiga.org.ru>

    * YAM_FO.c, YAM_MA.c, YAM_folderconfig.h added custom
      WriteIntro and WriteGreetings phrases for every folder.

2003-12-25  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c, YAM_Cog.c: fixed the MakeInteger() function to
      generate a integer dependent string gadget with maxlen+1
      instead of just maxlen. This fixes flaw #862238.
    * Recipientstring.c: moved back the dipose of the Matchwindow
      to the OM_DISPOSE method because the MUIM_Cleanup method is
      also called upon an iconification request of the application.
      This caused enforcer hits when windows with existing
      recipientstring object has been iconfified by MUI. This
      fixes the reported bug #865081.

2003-12-23  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: fixed recently introduced CRAM-MD5/DIGEST-MD5
      authentication bug, where YAM stripped too much of the
      received MD5 challenge ID which caused the authentification
      to fail on server which just return "\n" instead of "\r\n".

2003-12-20  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MI.c, YAM_RE.c: rewrote the base64 file decoding routines
      to use the new base64decode() implementation. This should not
      only increase the base64 MIME decoding a bit, it should also
      increase the security if something went wrong during the
      decoding phase.

2003-12-14  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MAf.c: fixed a recently introduced bug where the use of
      the new base64decode() function while decoding the transfer
      date from a file comment caused the mail structure to get
      overwritten. The new base64decode() routine does always
      set a final NUL-byte, so we had to use a larger buffer for
      the decoding.
    * YAM_UT.c, YAM_utilities.h: replaced the more or less
      short isSpace(), isGraph() and isAlNum() functions by
      macros which should perform a bit better.
    * YAM_UT.c, YAM_RE.c: replaced the MatchTT() stub function
      by direct calls to the MatchNoCase() function.
    * YAM_MI.c: removed obsolete from64txt() base64 decoding
      routine. The functionality is now fully covered by the
      new rfc2047 and base64decoding routines.
    * YAM_MAf.c, YAM_MI.c, YAM_RE.c: YAM wasn`t at all RFC 2047
      compliant and the decoding routines RE_ProcessHeader where
      way to crippled and recursive. I totally reworked the RFC
      2047 decoding routines and added them to YAM_MI.c where now
      a sophisticated callback function based mechanism is used
      to correctly decode and translate the charsets.
      Verified that correct function of the new routines with tons
      of mails and the examples from the RFC 2047 document. We
      should be RFC 2047 compliant now.

2003-12-13  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MAf.c: replaced the from64txt() call by a call to the
      new reworked base64decode() function. This allows to introduce
      a more sophisticated failure checking and probably also leads
      to a slightly increase of performance during index rescanning
      of large folders.
    * YAM_MI.c: started reworking the MIME encoding routines.
      Optimized the base64 string encoding/decoding functions to
      be a bit faster and also provide a better interface for
      error reporting during decoding/encoding phase. Adapted
      other sources to use the new reworked base64 string functions.

2003-12-03  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_COg.c: changed MUIA_Listview_ScrollerPos of translation
      table popup gadgets to carry a scrollbar at the right, instead
      of forcing the user to use his keys to scroll around.
      This was obvious the change AmiS wanted to achieve.
    * YAM_WR.c: reverted AmiS`s changes which were nonsense.

2003-11-27  AmiS <amis@amiga.org.ru>

    * YAM_WR.c: popup gadget of the translation table doesn`t support
      any scrollbar. Fixed.

2003-11-25  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed tiny flaws within the test parsing routines
      that caused YAM not to display any mail text if a message part
      had zero size.
      Also increased the error checking a bit so that error
      conditions while reading the data of a part are better checked.

2003-11-24  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed small bug where upon an occurred PGP Error the
      logfile has been deleted even if the error messages states to
      refer to that logfile.

2003-11-16  Jens Langner <Jens.Langner@light-speed.de>

    * Recipientstring.c: fixed a possible enforcer hit on recipient
      string not having attached a FromString or ReplyTo string and
      were a recipient list had been inserted.
    * Recipientstring.c: changed the OM_DISPOSE method to be a
      MUIM_Cleanup method instead. This is necessary because the used
      macro _app(obj) is per definition only allowed within the context
      of MUIM_Setup/MUIM_Cleanup and could cause problems if used
      elsewhere.

2003-11-15  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MAf.c: enhanced the error checking functions within
      the index loading routines a bit.
    * YAM_CO.c: once again enhanced the gadgets enable/disable
      functionality of the filter action gadgets.

2003-11-14  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_CO.c: the action gadgets of the filter rules will now be
      ghosted as soon as the corresponding checkmark is disabled.

2003-11-11  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: added "7-bit" and "8-bit" to the recognizable transfer
      encoding strings as bugreport #771917 mentions cases where mail
      clients seem to send mail with transfer encoding strings of that
      type. However, even if "7-bit" and "8-bit" isn`t RFC 1521 compliant,
      it doesn`t harm to recognize these acronyms.
    * YAM_RE.c: fixed bug #834133 where a quote-printable encoded text
      was stripped if it contained a "=00" which caused the displayed
      text to contain a NUL byte.
      Now YAM will automatically replace these NUL-bytes within a
      displayable text by spaces, so that at least the text is correctly
      showed.

2003-10-03  AmiS <amis@amiga.org.ru>

    * Debug.h, Makefile.MorphOS, YAM_debug.h, includes/extra.h:
      improved MorphOS compilation.

2003-09-28  AmiS <amis@amiga.org.ru>

    * YAM_RE.c: Added autodetection of russian codepages and
      converting names of attached files to system codepage during
      saving them to disk. (Only for Codepage Autodetect/Translation = On)

2003-09-23  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MAf.c, YAM_UT.c: reworked the .index loading routines a bit
      to make them a bit more robust against not enough memory conditions
      or errors while loading the index files.

2003-08-29  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: fixed the BusyText display while transfering data
      from a POP server. Now YAM will even show a message within the
      InfoBar that the transfer is in progress, even if the transfer
      window is disabled.
    * YAM_TR.c: fixed the Transfer Status routines once more. I forgot
      to make sure that the status display is updated correctly at
      least at the end of each mail transfer. That should make the
      whole transfer progress a bit smoother.

2003-08-24  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: reworked the Transfer Status routines once more to not only
      speed up the overall processing time while exporting mails. YAM
      will now update the TransferStatus only at a maximum of twice a
      second at every operation using the Transfer window.
      That increases now also the performance of the the POP3/SMTP transfers
      especially with fast connections that would update the transfer
      stats quite often. Tests have shown that this can decrease the
      overall transfer time by a factor of ~1.6.

2003-07-08  David Rey <tactica@gmx.net>

    * YAM_global.c: replaced the copyright symbol with "(C)" to be
      friendlier with charsets where this symbol is not available
    * classes/YAM.c: likewise
    * locale/YAM.cd: likewise

2003-07-04  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: applied a patch for the mail export functions of YAM which
      increase the performance of a export session by a factor of ten.
      The gauge refreshing routines took to much time from the whole
      export functionality, so YAM was busy with refreshing the GUI all
      the time. Thanks to Olaf Barthel for supplying this patch.

#### YAM 2.4p1 RELEASE ####################################################

2003-05-25  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c, YAM_WR.c: fixed a bug in the save routines for decrypting
      PGP messages. Previously YAM was not correctly saving a decrypted PGP
      message to a compressed folder.
    * YAM_RE.c: fixed bug in PGP signed routines where YAM didn`t give the
      user the possibility to check the signature even if the message was
      correctly signed.

2003-05-24  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c, YAM_UT.c: fixed bug were a mail import to a compressed or
      encrypted folder didn`t work as expected. YAM simply didn`t save the
      mail compressed or encrypted, which caused some trouble later.

2003-05-23  David Rey <tactica@gmx.net>

    * YAM_MA.c, YAM.cd: replaced MSG_MA_CROPREQUEST_GADS with MSG_YesNoReq2
      to avoid reinventing the wheel every time. MSG_AB_NOYAMADDRBOOK_GADS
      should also be dropped in YAM2.5+ in favour of the new string.

2003-05-22  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: fixed bug #730474 where YAM didn`t uniconfiy the application
      via a created MUI appicon if the HIDE option was used upon the
      startup.
    * YAM.c: fixed bug #727871 where it wasn`t possible to quit YAM while
      it was iconified and a confirmation requester need to pop up. Now
      YAM will automatically uniconify to request the user to answer to
      this requester before quitting. Only a "QUIT FORCE" arexx command will
      exit YAM the hard way and skipping all further user input while
      quitting.

2003-05-21  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_rexx_rxif.c: fixed bug where the FOLDERINFO arexx command
      returned the wrong identifier for a "sent and received" folder
      type. Now FOLDERINFO will return the exact same id value for each
      folder like it is saved in the .fconfig file.
    * YAM_MA.c, YAM_RE.c, YAM_main.h, YAM.cd: added a warning requester to
      the attachment crop routines because otherwise people could loose
      attachments if they used that option on accident.

2003-05-20  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_FO.c: fixed bug #739139 where YAM didn`t refresh the mail listview
      upon a folder type change. Also the refresh was done slightly wrong
      which should be fixed now.
    * YAM_FO.c: fixed bug #729366 where YAM ignored the Cancel button of the
      password entry window while creating/changing a folder.
    * YAM_FO.c: fixed bug in the folder config loading routines where YAM
      always created a "outgoing" folder if the folder directory was missing
      while starting up.

2003-05-16  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_CO.c, YAM_COs.c, YAM_UT.c: as many people were confused by the
      fact that YAM 2.4 wasn`t automatically resizing the main listview
      columns anymore, a new hidden option "AutoColumnResize" to the .config
      file has been introduced.
      By default this variable will be set to Yes, to stop confusing people
      with the non autoresizing feature of YAM 2.4+. So, all those people out
      there whining about a slow folder switching if they have >1000 mails
      in their folders should now explicitly modify their .config file and
      use "AutoColumnResize = N" to stop YAM from using the autoresizing
      feature of NList which significantly slows down a NList refresh.
      Following that, those people should also know that they need to have
      their columns fixed if AutoColumResize is set to No.
    * YAM_UT.c: YAM will now suppress any DOS requester from popping up while
      trying to save the MUI object information to the ENVARC:mui/YAM.cfg file
      upon the exit of YAM. This should prevent people from whining about the
      fact that YAM wants to save the whole object information while quiting.
      Please note that YAM doesn`t only save the NList column widths in that file,
      but also saves information like the object weights informationm which is
      quite important for the layout manager of MUI.

2003-05-11  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: the ASL_ATTACH filerequesters will now show a "~(#?.info)"
      pattern as default to make living with them a bit easier ;)
    * YAM_TR.c: fixed bug in MBOX export function where YAM didn`t correctly
      export & import file depending on the "mboxrd" specification found at
      http://www.qmail.org/man/man5/mbox.html

2003-05-06  Jens Langner <Jens.Langner@light-speed.de>

    * fixed the temporary filename generation once more to generate real
      unique files depending on the YAM instance that is currently running
      and also fixed a bug where a tempfilename from OpenTempFile()
      shouldn`t be longer than SIZE_MFILE.

2003-05-04  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c: fixed bug in Popupmenu routines where the use of
      the "Export Message" item caused YAM to export all messages
      instead of just the selected one.
    * YAM_CO.c: fixed flaw in temporary filename specification for
      a new write window. Multiple instances of YAM used the same
      tempfile names for each write window and therefore interfered
      each other.
    * YAM_UT.c: fixed flaw within temporary file generation where we
      didn`t take in consideration that two YAM instances could
      use the same temporary files and therefore cause some trouble.

2003-04-29  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_WR.c: fixed bug #729651 where YAM tried to delete a .autosave*
      file even if AutoSave=0 was set in the configuration.

2003-04-28  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: to make the whole AutoDST mechanism a bit more stable and
      also useable I reworked/fixed the whole GetDST() again.
      Also GetDST() now directly supports the ENV:FACTS/DST env variable
      to check for the current DST mode. So running FACTS with SummerTime
      emulation is not required anymore.
    * YAM.c: fixed bug in AutoDST recognition where YAM didn`t correctly
      recognize the SUMMERTIME environment variable because it provided
      a way too short buffer to GetVar().

2003-04-27  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_DI.c: fixed bug #728040 where the abbreviation string gadget
      was always reset to "-new-" even if the user didn`t confirm with
      pressing return.
    * YAM_RE.c: fixed bug #728162 where YAM didn`t quote any mail text
      upon a reply if the mail in question had an multipart attachment.

#### YAM 2.4 RELEASE ######################################################

2003-04-25  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed a serious bug in the RE_UndoPart() function
      where YAM didn`t correctly undo a specific part and put the
      wrong filename string in previous moved parts. This caused
      that some multipart attachments weren`t accessable.
    * YAM.c: replaced calloc()/free() calls for the TimerIO requests
      with better conforming AllocMem()/FreeMem() calls, because
      TimerIO requests need to be MEMF_PUBLIC allocated according to
      Gunther.

2003-04-22  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_COs.c: fixed bug #724594 where YAM didn`t save the
      separate SMTP port value at all to the configuration.

2003-04-20  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: fixed bug #724394 where a opened bounce window caused
      some enforcer hits upon a AUTOSAVE timerequest. YAM didn`t
      take respect of the fact that a bounce window isn`t a full
      write window and therefore tried to access it in a wrong
      fashion.

2003-04-17  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MAf.c: fixed bug #720377 where the folderlist update
      routine did count the entries in the listtree wrong and
      therefore didn`t refresh some entries if some folder groups
      where closed.
    * YAM.c: fixed bug #715959 where a fast try to double start
      YAM caused a small enforcer hit.

2003-04-15  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: fixed bug #721608 where a return value of NULL
      in the GetRealPath() function wasn`t quite a wise decision as
      GetRealPath is often used in string manipulation functions.

2003-04-14  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_FI.c: fixed bug #721041 where YAM caused some serious
      enforcer hits if a too long matchpattern was used together
      with ths substring option.

2003-04-14  David Rey <david@saug.org>

    * YAM_RE.c, YAM.cd: changed the shortcuts for the "Set status to
      marked/unmarked" menu items for them to be actually usable and
      added shortcuts for selecting no messages/toggle the selection.

2003-04-13  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: fixed enforcer hit upon exit, where a not previously
      issued timerequest caused some trouble. Now everyting should
      work smoothy again.

2003-04-12  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: added NotifyRequest mechanism to the AutoDST feature. Now
      YAM will automatically reparse a supported AutoDST environment
      variable as soon as it will be changed. This makes it possible
      to have a AutoDST system like "SetDST" running and as soon
      as this system alters the env variable, YAM will recheck this
      variable and change the DST settings accordingly. Now YAM should
      really be timezone&DST compatible like it should have been since
      ages ;)
    * YAM.c, YAM_CO.c: fixed the whole internal timerequest handling
      within YAM. Previously YAM did only use one single timerequest to
      handle the background management functions like automatic
      index saving, checking mail within a specified interval and auto
      backuping text that is currently in edit mode. YAM always issued
      a 1 second long timerequest and managed the mentioned methods by
      counting the time in own iterator variables. This caused a lot of
      overhead for the system and it is a much more cleaner approach to
      generate a single timerequest for each of this automatic interval
      methods. Now YAM will issue 3 different timerequests upon start
      without polling the system each second. Hopefully this increased
      the overall response because YAM doesn`t need to operate on a
      signal each single second.
    * YAM.c: fixed and enhanced the AutoDST facility. Now YAM also takes
      respect of the ENV:TZONE variable created by SetDST. It`s not
      completly finished yet, as we need some notification mechanism
      to signal YAM that the DST has changed.

2003-04-10  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_COg.c, YAM.cd: fixed bug #717880 and #717881 where we forgot
      to set a bubble help text and some shortcuts within the YAM
      configuration.
    * YAM_MA.c, YAM_MAf.c: fixed refresh bug where upon a index rescan
      the folderlisttree wasn`t correctly refreshed.
    * YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM_ER.c, YAM_FI.c, YAM_MA.c,
      YAM_MAf.c, YAM_RE.c, YAM_TR.c, YAM_UT.c, YAM_WR.c, YAM_mainFolders.h,
      YAM_rexx_rxif.c, YAM_utilities.h:
      fixed the whole flawed timezone handling within YAM after I
      recognized that YAM couldn`t handle half-an-hour timezones and also
      the dates of the mails were saved within the local timezone to the
      .findex files. Now YAM doesn`t need the YAM_TZ env-variable anymore,
      because it can now also obtain half-an-hour timezone directly from
      Locale and all the timeinformation of a mail are saved in reference
      to UTC. This allows the user to switch timezones without having to
      rescan the whole indices. Please note that this change requires all
      indices to be rebuild, so that the dates are saved in UTC which
      YAM will later refer to. To make this index rescan automatic, I
      bumped the .findex version to YIN5.
      In addition to that fixes/changes, YAM should now also know all
      "well-known" timezone abbreviations. It will now also accept
      timezones which are specified in ISO8601 and accepts timezone
      abbreviations in the military format specified in RFC822.
      And as a special "bonus" the withdraw of the YAM_TZ variable seems
      to have caused that a index rescan processes about 20% faster
      than before because the mass GetVar() calls while index scanning
      are gone. All in all this whole timezone handling should be
      more stable/pratical as before and people using YAM within such a
      half-an-hour timezone should be happy now. ;)

2003-04-08  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c, YAM_UT.c: fixed bug in YAM_TZ env variable handling where
      upon a index rescan the environment variable was checked all the
      time and probably lead to some performance problems. Now the
      YAM_TZ variable will just be checked upon a YAM startup.

2003-04-06  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed bug in the headerline parsing routines where YAM did
      also display malformed headerlines (which doesn`t conform to RFC)
      and probably mixed up the headerline display within a read window.

2003-04-05  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c: fixed bug #715777 where the gauge while filtering upon new
      mails did show all and not only the new mails.
    * YAM_RE.c: fixed bug #706756 where every action within a read window
      triggered an automatic addition to the addressbook if the option was
      enabled within the configuration.

2003-03-28  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: bumped minimum version for NList.mcc to v20.111 or otherwise
      we will confuse people using different versions and noticing speed
      differences.

2003-03-22  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MAf.c, YAM_RE.c: fixed bug #706760 where upon a read of a
      PGP encrypted message that couldn`t be decrypted cause YAM
      to not display the whole error message within the read window.
      Now also the readwindow will show the encrypted message as a
      seperate attachment to make it able to save this attachment.
      Also tried to make the whole PGP decrypting more robust.
    * YAM_FO.c: the FO_SaveConfig() function didn`t return the success
      status of the write operation which caused some troubles if
      a write operation failed somehow. Now all usages of FO_SaveConfig()
      should be more save.
    * YAM_CO.c: fixed bug #683672 where upon a reload of the default
      values within the TCP/IP configuration a enforcer hit was
      triggered.

2003-03-16  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_FI.c: fixed bug where a CloseRequest to a find window caused
      some enforcer hits if a search was actually running in that
      particular find window.
    * YAM_WR.c: removed the GroupFrame from the bouncing request window
      because it is not needed.
    * YAM_UT.c: omit the MUIA_Window_ID for the Attachment requester or
      otherwise the refering window attributes like RefWindow don`t work
      correctly and put the position of a attachment requester in relation
      to the read window.
    * YAM_RE.c: fixed bug where a found PGP PUBLIC KEY BLOCK line was not
      displayed while viewing a mail.

2003-03-15  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: fixed bug in the SMTP send routines where the new routines
      didn`t correctly find the message body and therefore stripped some
      lines on accident.
    * YAM_TR.c: fixed serious bug within the POP3 receive routines where
      a POP3 server that allowed transfers of binary data caused YAM to
      hang under certain situations i.e. a transfered NUL (ASCII 0) caused
      YAM to request too much data from the POP3 server and therefore
      hanged YAM completly.

2003-03-12  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c, YAM_RE.c, YAM_TR.c: fixed bug #433751 where the automatic
      deletion of mails triggered an AppIcon refresh for every deleted mail
      and therefore caused lots of flickering.
    * YAM_COs.c: fixed flaw where a "LetterPart = 0" config value always
      caused confusion on users upgrading from 2.3 to 2.4 because the old
      version did interpret the LetterPart a little bit different. If a
      user specified the LetterPart to be zero it could have happened that
      he wasn`t able to see any text on a forward or edit mail operation.
      Now YAM will always use 1 as the bare minimum for the Letterpart
      regardless of what the user specified there.
      This should explain bugreport #701002.

2003-03-11  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_WR.c, YAM_TR: fixed bug #701277 where YAM sent the email body
      with bare LFs which is prohibited by the RFC 2822 and therefore throw
      some errors on some pedantic SMTP servers (qmail).

2003-03-10  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed bug #700608 where a missing "unsigned" definition
      caused the automatic display charset translation to fail. Now all
      charset converters should work as expected again.

2003-03-09  Jens Langner <Jens.Langner@light-speed.de>

    * classes/Addrmatchlist.c: fixed bug where multiple recipientstrings
      within one window didn`t correctly refresh the addrmatchlist
      position.
    * classes/Recipientstring.c: fixed bug where a recipientstring allowed
      to Advance to the next object even if the user entered a non-existent
      alias. Now the string should stay active and in addition to that
      present the user a DisplayBeep().

2003-03-08  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: added developer version expiration requester that will be
      presented to the user if he uses that compiled version for more than
      one month. This should minimize the problems with users using old
      developer versions we can`t build our bugreports on.
    * YAM_RE.c: fixed bug #680450 where attachment filesnames were always
      truncated to 32bytes. Now YAM should leave it to the filesystem
      to support longer filenames or not. This should also fix the
      truncation of attachment (file)names on a mail forward.
    * YAM.c: fixed bug #555698 where a missing .folders file caused some
      enforcer hits because a folder wasn`t actually selected as active.
    * classes/Recipientstring.c: added workaround for buggy Betterstring.mcc
      behaviour. Betterstring.mcc`s OM_GET method is broken and doesn`t
      return the correct MUIA_String_AdvanceOnCR value. Therefore we catch
      the attribute ourself and return it to the caller accordingly.
    * YAM_TR.c, YAM_RE.c, YAM_WR.c: fixed serious flaw within the mail
      parsing and transfer routines where YAM didn`t take respect of
      binary data could being transfered/parsed. All main parsing
      function did use fgets() and string function which could have
      caused trouble if the file/mail had null bytes within. Now
      all major routines take respect of that.
      Also reworked the Encoding test routines to pick the correct
      transfer type encoding depending on previous analyzes of the parsed file.
      This fixes bug #685826.
    * YAM_UT.c, YAM_global.c, YAM_global.h: added new common ContentType
      "application/pdf" to internal YAM types as this one is quite common
      and should be included in YAM.

2003-03-07  Gunther Nikl <gni@gecko.de>

    * classes/InfoBar.c/ShowGauge: fixed an ancient and serious bug in
      SetAttrs() call - TAG_DONE was missing...
      (Since SAS/C inlines such calls the problem was hidden. However,
      with GCC a stub function is used and thus important additional data
      is placed infront of the taglist [saved registers and return address]
      which accidently gets "part" of the taglist causing havoc)

2003-03-05  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_rexx_rxif.c: fixed bug in MAILINFO arexx command where the
      stem variable didn`t return the 32bit checksum value in the correct
      format. Now the stem will return it as the correct 32bit hexvalue
      like it is saved within the .index file.
    * YAM.c, YAM_UT.c: fixed bug in xget() wrapper function where we
      forgot to set the destination variable to zero which caused the
      CheckMCC() function to fail if a .mcc didn`t had the
      MUIA_Version/Revision attributes.
    * YAM_FO.c: fixed bug #696732 where we used a incorrect locale text
      for the mailinglist signature help bubbles.
    * YAM_MA.c: fixed bug #697501 where the "Set status to" context menu
      items weren`t correctly disabled anymore.
    * YAM_MA.c, YAM_MAf.c, YAM_main.h, YAM_rexx_rxif.c: fixed bug #697407
      where the whole volatile/permanent flag functionality was broken.
      Reworked the whole mechanism and in addition to a better design,
      the MAILINFO arexx command also takes respect of the new marked
      message flag now.

2003-03-04  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: reworked own YAMMUIRequest() function a bit to work more
      accurate like the original MUI_Request() function. Also these changes
      remove the maximum value of 32 buttons per requester. Now a requester
      can have nearly unlimited buttons.

2003-02-27  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed bug where on a use of PGPv5 a unknown keyid wasn`t
      correctly identified. Damn, this whole PGP stuff really needs a
      complete rework soon.
    * YAM_UT.c: replaced redundant CompNoCase() function with a call to
      strnicmp() which anyway does the same.
    * YAM_UT.c, YAM_FI.c: increased the sizes of all buffers used with
      ParsePattern() to at least 2*sourcelen+2, as proposed in the
      dos autodocs. This should probably fix problems with hugh used
      pattern fields that caused a buffer overrun within ParsePattern().

2003-02-25  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_WR.c: removed the autoactivate of the To: string gadget again
      as it seems that one activation upon a write window open is enough.
    * classes/Recipientstring.c: fixed bug in HandleEvent() method where
      a recipientstring did always eat all RAWKEY events, even if they
      were not handled by the string itself. That caused an active string
      not to forward hotkey events to the window.

2003-02-23  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c, YAM_MA.c YAM_RE.c: removed all Toolbar qualifier bugs
      workarounds and made the new upcoming version v15.8 the minimum
      requirement for YAM as all known bugs should be removed within
      this final version. All those workarounds in YAM caused more troubles.

2003-02-21  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: fixed bug in AppendToBuffer() function where we forgot
      to terminate a string with a '\0' and therefore sometimes got
      back unterminated string which could have caused problems later on.

2003-02-18  Jens Langner <Jens.Langner@light-speed.de>

    * added seperate contextmenu for the titlebar of the MailList and
      FolderList. Now a user can directly enable/disable columns by
      using the RMB in front of the NList titlebar.
    * replaced the popupmenu.library based contextmenus with better
      integrateable MUI based contextmenus. This allows to separate the
      contextmenu in two different areas - one for the title and one
      for the rest of the listview. Also contextmenus are now possible
      even if the user hasn`t got popupmenu.library installed.
      Now YAM doesn`t require/use popupmenu.library anymore which is a
      bit more "natural" for a MUI application.

2003-02-17  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_mail_lex.l: reworked the textstyle highlighting regular
      expressions to work more accurate and also allow to stylish text
      passages with only one character. That fixes bug #683385.

2003-02-16  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_mail_lex.l: fixed tiny bug in the text highlighting routines
      where after a URL in a quoted text part, the color information
      was lost.
    * YAM_CL.c: changed the TextEditor WheelMouse support to scroll
      up/down by a value of 1/6 of the displayed text. Let`s see if
      this is the value most people can live with :)

2003-02-14  Jens Langner <Jens.Langner@light-speed.de>

    * classes/Addrmatchlist.c, classes/Recipientstring.c: changed the
      Recipientstring and it`s matchwindow to support selection via
      the mouse including the possibility to use the wheel to scroll
      up/down in the addrmatchlist. This also fixes bug #645653.
    * YAM_WR.c: changed writewindow to automatically select the
      To string gadget as the active object upon a selection of the
      first page.

2003-02-13  Jens Langner <Jens.Langner@light-speed.de>

    * classes/Addrmatchlist.c: if the window that the addrmatchlist was
      displayed in had been moved while the matchlist was open, the next
      time it opened at the wrong position.
    * YAM_CL.c: added Wheelmouse support to own TextEditor subclass. As
      the original TextEditor doesn`t support the newmouse
      NM_WHEEL_UP/DOWN codes, YAM catches this codes on it`s own now and
      sends the slider the correct commands to scroll down/up.

2003-02-12  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: changed array MUIM_NList_Insert call to use the newly
      introduced MUIV_NList_Insert_Flag_Raw flag. This flag allows to
      insert data into a NList without reevaluating the NList`s column
      width on each insert operation and therefore speeds up the insertion.
      This new flag is only available if NList.mcc v20.109 or higher is
      used. If a lower version is used, YAM will simply display the mail
      listview with the old speed :)
      Tests have shown that together with this new flag it is possible to
      insert ~8000 elements in around 1-2 sec. instead of 8-9 seconds
      previously.

2003-02-04  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed bug #678206 where YAM did strip the signature separator
      upon a mail edit.

2003-02-02  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: The read window will also take respect of the newly
      introduced marked flag now.
    * supportfiles/icons: Now the 16color Iconset is the new default set
      for YAM. Moved the old and partly outdated 8colors images to std8col
      subdirectory.
    * YAM_RE.c: A mail that is actually displayed within the read window
      can now easily be set to "marked" by using a new introduced readwindow
      menu item.
    * added an additional "marked" mail flag to YAM. Now it is possible to
      set the status of a mail to "Marked" which causes YAM to set a
      special flag to that mail. If a mail is then flagged as "marked",
      YAM will try to highlight this certain mail within the Mail Listview.
      If a new image file "status_mark" is present within the PROGDIR:Icons
      directory, YAM will use this image within the Listview as an additional
      status icon. If this new image file is missing, YAM will simply highlight
      this message by displaying the Senders name with bold letters.
      Also the Status sorting routines take respect of that new "marked" flag
      now, which makes it possible to better sort that marked mails.
      This new flag should make it possible for the user to highlight
      certain mails for later reference, like it is common with other mail
      programs. Please note that YAM will use the mailfile comment field to
      save the flag informatin permanently, if the index needs to be rebuild.

2003-02-01  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_FO.c: removed the extra Foldername Requester as it caused more
      confusion concerning the Path and Directory settings of a folder.
      Now the user can directly specify the correct folder path within
      the general folder configuration. Also enhanced Warning requesters
      concerning the existance of a folder. Now it should be more intuitive
      to change/set a foldername and path. This also fixed bug #571768.

2003-01-31  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_CL.c: YAM will now insert the famous multilinedelete replacement
      text snippet "[...]" if the user marked whole lines and presses
      RAMIGA+DEL within the Write window. This tiny text snippet is used
      quite often in mailinglists and signals the reader that a whole bunch
      of lines have been deleted in the replied text. Previously a user
      had to add this "[...]" snippet on his own, but now YAM inserts it
      automatically if the user deletes those lines with RAMIGA+DEL.

2003-01-29  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_mail_lex.l: fixed bug #674998 where a empty mailbody caused
      YAM to not refresh the read window or even hang the whole
      application.

2003-01-28  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_mail_lex.l: the new syntax highlighter didn`t center lines that
      starts with <sb> anymore.

2003-01-23  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed bug where the SaveDisplay functionality did save
      the same headerline more than once to the resulting file if it
      was wrapped within the header display.

2003-01-21  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_mail_lex.l: modified the regular expressions of the text scanner
      once more to be more accurate in finding the end of a URL and Email
      address in the text. This fixed bug #671394.

2003-01-20  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_mail_lex.l: slightly optimized the regular expressions to be
      more accurate in finding the correct tokens.

2003-01-15  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c: fixed bug #667194 where a reply or forward of a "virtual"
      mail caused an enforcer hit.
    * YAM_CO.c, YAM_COs.c, YAM_COg.c: added additional color selection
      gadgets for the 1st, 3rd and 4th level quotes. Now the user can select
      different colors for each quoting level. In addition to that also
      the used colored for highlighting URLs is now user configurable within
      the YAM config. This shows how powerfull the new preparsing routines
      are.
    * YAM_RE.c: removed the RE_ExtractURL() function and replaced it with
      a own function that also uses the lexical analyses functions
      introduced recently. This should also make the search for URL
      passages much more precise within YAM.
    * disabled the use of all MUIV_TextEditor_ImportHook_EMail within YAM
      because the internal E-mail importhook of TextEditor seems to be
      way to buggy to allow it to crash YAM anymore.
      As a replacement I implemented own text preparsing routines to highlight
      text passages. This routines are mainly based on the flex tool which
      generates own, fast and reliable lexical analyses. Now YAM should not
      only run more stable, it should also be more precise in highlighting
      URLs, using textstyles such as *bold* /italic/ and so on and it should
      probably also be a bit faster.
      Please note that you now need at least flex v2.5 to correctly compile
      YAM out of the box. One more advantage of this flex mechanism is, that
      we can now exactly specify text areas that should be highlighted with
      the use of regular expressions (flex format). This makes the whole
      engine more powerful and precise.

2003-01-14  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_COs.c: added dozen of "else if" instead of simple "if" statements
      to the config loading routines of YAM. That should speed up the config
      loading very significant.
    * YAM_RE.c: removed MUIM_TextEditor_ClearText calls because they seem
      to be one of the reasons why some emails crash if the Next/Prev
      functionality is used.

2003-01-08  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c: fixed bug #658937 where a MAILSUBJECTCHANGE arexx command
      did trash some memory if a subject larger than SIZE_SUBJECT has
      been used.
    * YAM_rexx_rxif.c, YAM_TR.c: fixed bug #659733 where the MAILCHECK
      arexx command did set the <stem>.OnServer variable not correctly.
      Previously it was just set to the amount of mails before the
      occured download, but now it correctly just shows the remaining
      mails after the download. Also recognized/fixed that after a download
      of 0 mails, the LastDL struct wasn`t set correctly, which also caused
      the MAILCHECK command to return RC 5, which wasn`t quite correct at all.
    * YAM_MAf.c: changed MA_ExamineMail() function to not use a static
      buffer for operation. That caused bug #657352 and probably was also
      the reason for some strange behaviour somewhere. Before that fix
      it was unsafe to use MA_ExamineMail() twice in a row, because the
      second call would have deleted the results of the first one.

2003-01-07  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_rexx_rxif.c: fixed bug #658683 where the APPBUSY arexx command
      required some text. Now you can simply call APPBUSY without any
      option and YAM will only set the application to sleep without
      placing any text in the busy region.
    * YAM_rexx_rxif.c: fixed bug #658259 where YAM didn`t resolve names
      or aliases if they belonged to a distribution list.
    * YAM_AB.c, YAM_rexx_rxif.c: fixed bug #658175 where it was
      possible that a wrong birthdate definition was passed
      through the ADDREDIT command and throwed an enforcer hit.
      Now the command returns an RC 10 code if something is wrong with
      the supplied birthdate number. In case a zero is supplied
      to the ADDREDIT command, YAM will delete the current set
      birthdate accordingly.
    * YAM_RE.c: YAM now also correctly recognized pgp signed
      messages that begin with "-----BEGIN PGP SIGNED MESSAGE" and
      flags this messages as "signed".

2002-12-25  David Rey <david@saug.org>

    * YAM_rexx_rxcl.c: the INFO template was still wrong.

2002-12-20  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c, YAM_rexx_rxif.c: changed the bugfix of
      bug #596303 on user demand. Previously YAM
      did always put the Application to sleep if the Busy()
      function was used. This made the usability of the
      application a bit too annoying. Now we just put
      the application to sleep (showing a busy pointer) if
      the APPBUSY arexx command will be used.

2002-12-09  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_DI.c: fixed bug where the listview wasn`t always
      in sync with the current Abbreviature text.

2002-12-06  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c/MA_GetRealSubject(): fixed bug where YAM didn`t
      correctly return the real subject if a subject line with
      brackets hadn`t got any whitespace between the last
      bracket and the real subject line. Also slightly optimized
      the function a bit.

2002-12-05  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c/Busy(): fixed bug #596303 and brought back the
      MUIA_Application_Sleep calls to make the Busy() function work
      again like in 2.3. These calls doesn`t seem to harm the
      performance anymore (at least with MUI 3.9) like described in
      bug #458521. And if so, this is more a problem of old MUI
      versions and not ours.

2002-12-04  Gunther Nikl <gni@gecko.de>

    * YAM.c: (TC_Dispatcher) reformat loops (no code change),
      (Terminate,Initialise,main): use <= MAXWR, (SendWaitingMail): simplify
    * YAM_UT.c: (SPrintF) use va_list for non-MorphOS case too

2002-12-03  Gunther Nikl <gni@gecko.de>

    * YAM_UT.c/YAMMUIRequest: use do/while loop, correct type of return
      value for MUIM_Application_NewInput
    * YAM.c/DoStartup: use do/while loop
    * YAM_CL.c/BC_Dispatcher: improve data->BCD handling
    * YAM.c/Initialise: use MAXWR+1 as loop count when initialising notify
      requests, main: move local variables to better scopes, fix signal mask
      (notsig2 was never waited for!), merged separate notifyrequest handling
      into one loop, StayInProg: simplify
    * YAM_UT.c/PlaySound: fix warning #120 almost without a cast,
      LoadBCImage: fix and simplify
    * YAM.c,YAM_DI.c,YAM_MAf.c,YAM_RE.c,YAM_TR.c: remove superfluous test
      before FreeStrBuf()
    * YAM_utilities.h/FreeStrBuf: use sizeof() instead of hardcoded constant

2002-12-03  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_CL.c: replaced multiple set() call to the same object
      with a single SetAttrs() call.

2002-12-02  Gunther Nikl <gni@gecko.de>

    * YAM_COs.c/CO_LoadConfig: constified sortconv[]
    * YAM.c,YAM_UT.c: use EasyRequestArgs()
    * YAM.c: suppress warnings for TimerBase (different casts),
      use MAXICONS as loop count in SetupAppIcons()
    * YAM_UT.c/ExpandText: move chr[] to its usage scope
    * YAM_WR.c/WR_AddArchiveFunc: likewise
    * YAM_UT.c/(RemoveCut,IdentifyFileDT): fixed wrong static usage,
      remove unused dead code (Index), stylistic changes
    * YAM_UT.c/AllocStrBuf: use size_t as argument type
    * YAM_UT.c/StrBufCpy,StrBufCat: adapt to that change
    * YAM_rexx_rxif/rx_addrresolve: remove cast of AllocStrBuf argument
    * YAM_UT.c/AllocCopy,CompressMailFile,UncompressMailFile,CheckPrinter,
      IdentifyFileDT: miscellaneous changes
    * YAM_CL.c/BC_Dispatcher: remove test in case of MUIA_Bodychunk_UseOld
    * YAM_FO.c/FO_MLAutoDetectFunc: fixed potential enforcer hits
    * YAM_UT.c/StrBufCpy,StrBufCat: optimized

2002-12-02  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_rexx_rxif.c/YAM_MA.c: fixed bug #635892 where
      the GETSELECTED arexx command returns wrong values
      on a use at empty folders or if a folder group was
      actually active.

2002-11-30  Jens Langner <Jens.Langner@light-speed.de>

    * includes/SDI_compiler.h: added REGARGS define for MorphOS
    * Makefile/Makefile.MorphOS: added $(CPU) to LDFLAGS

2002-11-27  Gunther Nikl <gni@gecko.de>

    * YAM_MAf.c/FO_SetCurrentFolder: fix wrong NULL usage
    * classes/Recipientstring.c: fix wrong NULL usage, drop superfluous
      strlen()
    * classes/YAM.c: fix wrong NULL usage, changed casts in
      EMailCacheNode handling
    * includes/inline/amissl_protos.h: added
    * includes/extra.h: add prototype for strdup (VBCC, STORM3)
    * classes/ClassesExtra.h: add extra.h
    * extrasrc/access.c, extrasrc/strdup.c: add
    * all_vbcc.c, all_storm.c: use it
    * all_gcc.c: disable runtime CTRL-C checking
    * Makefile: fixes and cleanup
    * VMakefile: updated

2002-11-22  Gunther Nikl <gni@gecko.de>

    * includes/proto/amissl.h,includes/proto/genesis.h,includes/proto/miami.h,
      includes/proto/muimaster.h,includes/proto/openurl.h,includes/proto/pm.h,
      includes/proto/socket.h,includes/proto/xpkmaster.h: re-established VBCC
      support
    * includes/clib/socket_protos.h: add define for htons if its missing
    * YAM.c/CheckMCC: reduced stack usage and simplified it

2002-11-21  Gunther Nikl <gni@gecko.de>

    * includes/clib/socket_protos.h: usage of sys/types.h removed
    * YAM_UT.c/CRC32: replaced dynamic CRCTable with a static const one
    * YAM_utilities.h: removed prototype for FreeCRCTable
    * YAM.c/Terminate: removed FreeCRCTable call
    * smakefile: corrected CFLAGS and LNKFLAGS

2002-11-13  Gunther Nikl <gni@gecko.de>

    * YAM.c: wrap SetupDebug() into DB()
    * classes/YAM.c, classes/Recipientstring.c: use DB wrapper
    * YAM_FO.c, YAM_RE.c: no stray ";" dueto DB statements
    * Debug.h: remove empty D/SetupDebug definitions

2002-11-13  Gunther Nikl <gni@gecko.de>

    * YAM.c: don't call Terminate() inside the exitfunc on a premature exit
    * YAM_MAf.c: use alignment headers

2002-11-08  Gunther Nikl <gni@gecko.de>

    * YAM.c: removed "struct Device *TimerBase"
    * YAM_global.c: added it here
    * YAM_find.h: define FORMAT_DEF if its not defined

2002-10-31  AmiS <amis@amiga.org.ru>

    * Added analyse "x-senderinfo" fields and and automatically
      translate them to system codepage if "Codepage Autodetect/Translation"
      option is turn on. Mainly for cyrillic users.

2002-10-26  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed bug #625377 where YAM displayed the
      first message part of a mail even if it were recognized as
      a non printable part. Remember, only the first part in
      a message will be considered the "real" message if it
      is in a printable format, if not it is recognized as
      an attachment.
    * YAM_RE.c, YAM_MA.c: fixed a possible buffer overrun
      in the DisplayHook of the Attachment requester.
      Also fixed a possible problem with attachments which
      included "%" chars - some sprintf() drove crazy because
      of it ;)

2002-10-22  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: YAM_UT.c, YAM_MA.c: had to remove the LEN_DATSTRING
      from the allocations for the buffer of DateToStr() again
      and extended those buffers to 32bytes each as OS3.1 doesn`t
      seem to respect it anyhow, if used with FORMAT_DEF.
      What happend was, that in case that a .country file was used
      with returning date strings longer than LEN_DATSTRING,
      OS3.1 just overwrote our own buffers and YAM ended up in weird
      crashes. In fact this only happened with the standard
      OS3.1 italia and portugal country files as those are the only
      two that could return datestrings longer than LEN_DATESTRING.

2002-10-21  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c, YAM_MA.c: changed buffer allocation
      constants to use the LEN_DATSTRING defined symbol
      for better clarifications in those sections.

2002-10-18  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_COg.c: fixed bug #624953 where YAM did provide
      the %h variable option for the reply texts in the
      configuration window where this feature isn`t quite
      possible or reasonable.

2002-10-17  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c, YAM_FI.c: changed the DisplayHook of the Mail
      Listview and FindWindowListview to be a NList_DisplayHook2
      so that we are able to distingush between them. We actually
      just use one Hook for both windows and this made it
      necessary to be able to distingush for some reason, like
      which column should be displayed in which window aso.
      Also added the Received/Sent date column to the findwindow
      as it seems to be of some use.
    * YAM_RE.c: reworked the Next/Prev Thread routines a bit and
      made them first search the folder of the refering mail we are
      searching from. If no followup could have been found in this
      folder, YAM will prompt the user if he really wants to
      load other index files to scan other folders. This should make
      the searching for the next/prev thread remarkable faster and
      also hopefully safer.
      Please note that there still exists the flaw that a message
      could have more than one followup to it and that YAM actually
      just search for the first followup and then immediatly displays
      the message.
    * YAM_UT.c: fixed bug in the AllFolderLoaded() function where
      YAM didn`t also check the last folder in the list.

2002-10-16  Jens Langner <Jens.Langner@light-speed.de>

    * added the possibility to correctly display/sort messages
      by the date they were received/sent. Previously YAM lacked
      to correctly save and display messages if they were sorted
      by "date received".
      To fix that lack, YAM now also saves the received date
      within the .index files of the folders and in addition to
      that also within the file comment as a base64 encoded string.
      This is necessary to make it possible to rescan the index
      without loosing the exact received/sent date after the scan.
      Also it is now possible to display the sent/received date
      within the mail listview by selecting "Date Sent/Received"
      from the config [Lists] tab.
      Please note that with this new feature/bugfix it is
      _necessary_ to do a complete rescan of the .index files of
      your folders.
      This should normally automatically be covered by the last
      index version update to YIN4 - if you used a version in
      between of this two changes you will end up with "corrupt index"
      warnings which should easily be solved by doing a manual
      rescan.

2002-10-14  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MAf.c, YAM.c: reworked the index loading/rescanning
      routines a bit to work a bit safer.
    * YAM_COg.c: changed Layout of NewMail/Download MUI group
      a bit and disabled the automatic ghosting of the WarnSize
      gadget to make more clear that this WarnSize is not only
      dependend to the Preselection gadget.

2002-10-13  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c, YAM_FI.c, YAM_UT.c: changed all DateTime FORMAT_DOS
      usages to FORMAT_DEF ones. This allows YAM to preferable
      use the Locale preferences for displaying the Date in
      the Mail listview and other areas.

2002-10-12  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: reworked the mailheader parsing a bit to make
      things more clear and faster.
    * YAM_MAf.c: fixed bug where YAM didn`t correctly connect
      multiline headers and stripped too many spaces.
    * YAM.c: fixed bug where on a fresh start of YAM the mail
      listview was out of sync with the folderlisttree and caused
      some weird enforcer hits if the first folder in the listtree
      wasn`t actually the INCOMING folder.

2002-10-10  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c, YAM_read.h: replaced the numerical constants for
      the HeaderModes of the Readwindow with some more descriptive
      Symbols of "enum HeaderMode".
    * YAM_RE.c: added "[" and "]" to the allowed characters
      within a URL. This should fix problems with URLs that
      contain these characters somehow.
      Please note that placing URLs in braces like
      "[http://www.test.de/]" within a mail isn`t really a good
      idea and we count this as a user fault ;)

2002-10-09  Jens Langner <Jens.Langner@light-speed.de>

    * replaced YAM_hook.h with more standarized SDI_hook.h and
      also changed the inlcude statements accordingly.
      Also updated the SDI_compiler.h to newest version.

2002-10-07  Christian Hattemer <krille@users.sourceforge.net>

    * YAM_RE.c: Don't try to use PGP if it's not installed

2002-10-04  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: fixed bug #588099 where YAM didn`t automatically
      download new mail if the "DownloadLarge" option was
      disabled within the configuration.
    * YAM_RE.c: fixed bug #617855 where YAM showed an message part
      text within the readwindow even if "Read/Show all Texts"
      was disabled in the config and the user somehow "decoded"
      the message part by selecting display or save.
    * YAM_UT.c: replaced rudimentary ComprMsgID() algorithm with
      a more unique CRC32 checksum algorithm to give the Next/Prev
      Thread function more power in finding the correct follow-up
      Message. This fixes some problems where YAM did find the
      incorrect message on a Next/Prev Thread.
      NOTE: Please note that because of this different checksum
      calculation routines, all index files of the folders have to
      be recalculated. That`s why the .index ID was increased to
      "YIN4" so that next time you open your folders YAM should
      automatically renew the index file.
    * YAM_RE.c: fixed bug where on a FollowUp with Next/Prev Thread
      YAM didn`t correctly changed the folder and sometimes showed
      weird data.

2002-10-01  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c: dropped the idea of resorting the listview on
      a mailstatus change within a sorted by status listview
      again. It seems that ppl just lost track of the messageview
      somehow.

2002-09-29  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_rexx_rxif.c, YAM_FO.c, YAM_UT.c: fixed bug #596302
      where the FOLDERINFO and GETFOLDERINFO arexx command still
      worked somehow on foldergroups. Also fixed the indexing
      behaviour of FOLDERINFO aswell as the foldertype
      specification.
    * YAM_FO.c: fixed bug #589038 where on a folderlist reset,
      the listtree didn`t show the foldericons afterwards and
      didn`t correctly freed the previous images.
    * YAM_FO.c: fixed bug where after a creation of a new folder,
      YAM did always show the foldergroup icon in front of the new
      folder.

2002-09-28  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: fixed bug in the BusyText functions where YAM didn`t
      restore the correct previous text on a BusyEnd;
    * YAM_MA.c: YAM didn`t clear the listview if the user issued
      a index rescan. That caused some corrupt listview display
      if the user scrolled around the listview if the rescan was
      still underway.
    * YAM_RE.c: fixed bug #595017 where YAM didn`t switch to the
      correct folder and highlighted the message if a SwitchMessage()
      (Next/Prev) was done in a readwindow with a mail whos
      folder wasn`t actually active.
    * YAM_MA.c: fixed flaw where YAM did loose the track of
      messages in a readwindow when the listview was sorted by
      status and the user wanted to use Next/Prev to read other
      messages. Now YAM will not resort the listview if the
      message is currently displayed in a readwindow.

2002-09-27  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MA.c: fixed bug where YAM didn`t resort the mail
      listview if it was selected to be sorted by status and
      the status changed somehow.
    * YAM_MA.c: changed the status sorting priorities back again
      to just take the real mail status (New/Unread/Read aso.) and
      the importance of the mail in account for sorting the mails
      or otherwise a sorting by status&date would be kinda
      confusing. For more detailed description refer to the affected
      source code parts.
    * YAM_RE.c: fixed another bug within the MIME Viewer parts
      of YAM were the argument of the MIME Viewer needed some
      extra attention concerning quotation marks. Now YAM should
      be able to execute the mime viewer correctly even if the
      path to the file has some whitespaces in it. It will also
      take care of the variant if the user already used quotation
      marks within the MIME configuration.

2002-09-26  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c, YAM_CO.c, YAM_FI.c, YAM_MA.c, YAM_UT.c, YAM_WR.c,
      YAM_utilities.h: fixed bug #610607 where mails in a
      PROGDIR: located folder were unable to display the RAW part.
      YAM was just forwarding PROGDIR: to the third party program
      where then this programs tried to find the mailfile out of
      PROGDIR: which obviously wasn`t correct. Now YAM will always
      do a Lock()/NameFromLock()/UnLock() to get out the
      correct path to the file before executing a third party
      program (mime viewer).

2002-09-14  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: fixed bug #601755 where YAM showed the overall
      transfered bytes in the transferwindow always doubled by
      the amount of mails downloaded.
    * YAM_RE.c: fixed bug #598715 where YAM didn`t display the
      letter part of a message if the user deselected "Display
      All Texts" within the Read configuration and if the
      message was a multiple MIME encoded message were we had
      to "undo" some message parts because of different msg
      boundaries. YAM wasn`t reorganizing the msg part numbers
      on a UndoPart operation and therefore lost the sync of
      the message parts somehow. This fix should perhaps also
      automatically fix some other strange behaviour were some
      MIME parts were undoed by YAM.

2002-09-11  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_COg.c: fixed bug #600543 where YAM will now ghost the
      according string gadget if the preselection mode doesn`t
      require any size input

2002-09-10  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_MAf.c: fixed bug #586671 in the folder index rescan
      routines where it could have happened that on copying
      a valid mail file into a mailfolder without YAM causes YAM to
      show up 2 equal mail files in the listview. This was caused
      because the rescan routine deleted the .index file while
      rescanning which caused YAM to loose the dirtree somehow.

2002-08-22  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_RE.c: fixed bug where the temporary unpack files weren`t
      deleted if the message was just switched within the same
      read window.
    * YAM_UT.c: fixed bug where it could have happened that
      YAM deleted the temporary unpack files (.unp) too early
      which resulted in some missbehaviour. For instance it was
      impossible to display the raw message part of a message
      that was located within a compressed folder.

2002-07-20  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_UT.c: reworked the FormatSize() function once more to
      now show sizes as a base of 2 for the fraction modes.
      Please note that this function will round the value
      depending on the selected precision mode - so i.e.
      102397 bytes is "100,0 KB", but "99,997 KB".
      Also slightly improved the overall performance of the
      function itself.

2002-07-19  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_rexx_rxif.c: fixed bug where the SHOW arexx command
      didn`t work as expected directly after a start of YAM with
      the HIDE option.
    * classes/YAM.c: fixed bug #583098 where the emailcache
      didn`t seem to work correctly as it should. Somehow it didn`t
      add new entries to the file, and if then not to the
      correct position. Now it should always add new entries to
      the top of the list like a FILO.
      Also added some security check to the load function of the
      emailcache so that it will not read more lines than 100. In
      addition now YAM will also correctly free the whole list on
      exit.

2002-07-18  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_TR.c: fixed behaviour of the transfer status of the
      Transferwindow where the Gauge never really reached 100%
      even if the mail was finished.
    * YAM_TR.c: YAM didn`t issue any error message under certain
      situations while sending a mail. Now YAM should pop up a proper
      error message to signal the user that the connection was broken
      somehow.

2002-07-17  Jens Langner <Jens.Langner@light-speed.de>

    * YAM_CO.c: fixed bug #580961 where the default AppIcon Label
      wasn`t localized at all.
    * YAM_rexx_rxif.c: fixed bug #580964 where the ADDRDELETE
      arexx command had deleted the active entry if the command
      was called with an entry that didn`t exists in the ABook
      at all. Now the command will return a WARN(5) code if the
      entry wasn`t found.

2002-07-16  Jens Langner <Jens.Langner@light-speed.de>

    * YAM.c: added an additional check to the new CheckMCC
      function that will allow also broken .mcc to pass the
      test if the library version matches the one requested.
      In the particular example Toolbar.mcc is broken which
      will result in a a requester that requests the same
      version that we were searching for.
    * YAM_utilities.h: fixed bug #580966 where we lost the
      "Displayed Text" option within the save and print
      attachment requesters because of some screwed up
      flags.
    * YAM.c, YAM_MA.c, YAM_MAf.c, YAM_TR.c, YAM_UT.c,
      classes/InfoBar.c: fixed bug #557910 where the status
      icon of the infobar wasn`t in sync with the one in the
      folder listtree. Now they both should always show the
      same icon depending on the status.
      Please note that this fix could lead to additional
      flickering within the Listtree, which is a NList.mcc
      bug that is fixed within version 20.107+.

2002-07-11  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_TR.c: added some general flags for the ->Status
      flags used within the preselection routines to make it
      easier to track down the purpose of some operations.
    * YAM_MA.c, YAM_MAf.c: changed the displayhook of the
      folder listtree and mail listview to skip certain
      operations if the user didn`t select any of the colums
      where this operations will be performed. This should
      slightly increase performance on that listviews.
    * YAM_UT.c: fixed bug #579202 where we used the wrong
      separator character for the precision sizes within the
      mail listview.
      Also fixed another bug within the FormatSize() function
      where it didn`t format sizes correctly. Now it should work
      as expected.
    * YAM_CO.c: fixed a small bug in the filter configuration
      page, where on a change from/to a Remote-Filter the
      Cycle gadget of the filter rule wasn`t notified and
      therefore showed some weird data.

2002-07-10  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_RE.c: modified the ExtractURL function once more
      to be a bit more precise on recognizing email addresses.
      Now it should really only recognize proper email adresses
      and not any word that contains a "@".

2002-07-09  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_RE.c: reworked the DoubleClickFunc of the Readwindow
      a bit to make it work more precise on the word the user
      really has double clicked on. This will make it possible
      for the user to double lick on two URL in the same line
      with having two separate actions to occur.
    * YAM_RE.c: Made the ExtractURL code within the ReadMessage
      functions a bit safer and also added normal email addresses
      to the recognition also. Now normal email addresses without
      a mailto: will not only be clickable within the readwindow
      they will also be highlighted like other clickable links.

2002-07-08  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_RE.c: Undecoded message part sizes will now also be shown
      directly within the Readwindow with the ~ sign, like within
      the attachment window. This should make it more clear that the
      size of the message part isn`t known yet and that this is just
      a approximation.
    * YAM_rexx_rxif.c: changed the INFO arexx command to
      require the ITEM attribute and return an error as stated
      in the arexx documentation. This fixes bug #555127
    * YAM_FO.c: fixed another enforcer hit within the ML-Autodetect
      functions that occured if only one mail was in a folder.
      This should hopefully fix this whole autodetect thing now.
    * YAM_RE.c: fixed the doubleclick on mailto: functions once
      again and now it should also recognize ?subject= attributes
      and as a special bonus I also added support for cc= and bcc=
      as defined in the HTML standard.
      It will also try to figure out "&amp;" as the separator
      between attributes. With that I recognized that also the ";"
      was missing within the legal chars of a URI because a valid
      URI can also be something like:
      "mailto:a@b.c?subject=test&amp;cc=b@c.d"
    * YAM_WR.c: reverted the Hotkeys for the Menushortcuts of
      the write window back to use CommandStrings, so that they
      will not interfere with the same hotkeys for other gadgets.

2002-07-05  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_UT.c, YAM_FO.c: reworked the whole "Autodetect"
      feature for MLs once more and hopefully now it will be
      stable and doesn`t crash at all. Also found and fixed
      a bug within the SWS string functions. This should fix
      bug #555125 and #557784.
    * YAM_COg.c, YAM_COs.c: changed the location of the
      "New Group for addrbook entries" string gadget and added
      a MUIA_Disabled relation to the above cycle gadget to better
      point out that this two options are belonging together.
    * YAM_RE.c: the designated addressbook group for new
      automatic added entries didn`t work correctly - fixed now.
      This should fix bug #528082, even if we have to mention
      that this group will only be used if a address is added
      automatically as soon as the user reads a message.
    * YAM_MA.c: fixed bug #431549 where it was possible to
      interrupt a transfer by trying to use the "Check Version"
      menuitem within the Main menu.
    * YAM_MA.c: the "Show last message" menuitem will now
      be disabled by default after a startup of YAM if there
      are no pending errors somehow.
    * YAM_ER.c: fixed bug #431550 where the activation of
      the error window via the Menuitem "Show last message"
      caused a actual transfer to abort. Also enhanced
      the Error window handling a bit.
    * YAM_MA.c: fixed enforcer hit that occured on clicking
      the support URL within the About window while YAM
      was starting up. (bug #576191)

2002-07-04  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_RE.c: fixed bug #557524 where the doubleclick action
      on a mailto: link didn`t work anymore.
    * YAM_WR.c, YAM_CL.c: even if the Attachment NList is
      inherented from List.mui, it seems much clearer to use
      NList tags for all operations on this list. So now
      the attachment list will use NList tags when ever
      possible.
    * YAM_WR.c: fixed bug #555122 where we forgot to delete
      temporary files if an attachment that has been added to
      the attachment list of the write window was deleted
      immediatly.
    * YAM_UT.c: made our own MUI_Request() replacement even more
      compatible with some information provided by Allan.
      Now the requester should also be useable with F-keys like
      the native one and will listen to Window Closerequests also.
    * YAM_WR.c: changed the menu shortcuts for the TextEditor
      to be show up as normal shortcuts and not as CommandStrings
      as I can`t see really a good reason not to do so.
    * YAM_WR.c: fixed a tiny, but extremly nasty bug within the
      MenuStripObject for the Writewindow, that crashed a gcc
      compiled version of YAM as soon as one tried to Dispose the
      Write Window. Somehow this bug didn`t show up with SAS/C.

2002-07-02  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_UT.c: our own MUI_Request() reimplementation didn`t
      support a immediate exit via the "ESC" key. Now this
      should be possible like with the original MUI_Request().
    * YAM_MAf.c: did some small performance tuning to the
      MA_ExamineMail() function where we didn`t use "else if"
      constructs somehow.
      Also added a mem clearing memset() to the SaveIndex()
      function to make sure that also the reserved array of the
      index structured is somehow equal each time a index is
      regenerated.
    * YAM_TR.c: fixed small flaw in the newly introduced TCP/IP
      routines where we threw an error on the optional UIDL command
      which is not supported by all types of POP3 servers.
      There is still the flaw in YAM that if a POP3 server doesn`t
      support either TOP or UIDL command, the "Avoid Duplicates"
      option cannot somehow work and therefore we should inform the
      user about it, but as this "Avoid Duplicates" option is a
      general one for all POP3 servers in a list, we don`t bother now
      and just skip over that tiny thing, as it wouldn`t really hurt
      and otherwise it would take the user the possibility to have
      POP3 servers in his list that doesn`t support that UIDL features
      at all. We therefore should address this functionality to
      be changed within the next release and put it configurable
      for every POP3 server within the config.

2002-07-01  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_TR.c: fixed many major flaws within the whole TCP/IP
      routines according to some ideas from Jrg:
      1) YAM didn`t make sure that it sent/received whole command
         lines and missused some RecvDat() calls which could have
         caused some weird behaviour if receiving/sending packets
         were fragmented too much. i.e. we try to use the new
         ReadLine() function werever possible now.
      2) Reimplemented the Read/Write TCP functions to use general
         read and write buffers. Now YAM will use buffers for mail
         transfers as much as possible which could possibly speed
         mail transfers up to 100%.
      3) Improved the abort handling of the SMTP routines. Now it`s
         not possible anymore to send distorted messages by aborting
         a actual SMTP transfer.
      4) restructured the whole SMTP/POP3 command routines to use
         general identifiers for all known SMTP/POP3 commands, which
         simplified many functions and makes it easier to identify
         problems or extend the functionality in future versions.
      5) tried to improve the overall function API for all important
         TCP functions, so that they are more descriptive and open
         for future enhancements.
    * YAM_UT.c, YAM_utilities.h: replaced FreeStrBuf() function
      by a simple function macro for speed reasons.

2002-06-28  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_TR.c: fixed some more bugs within the transfer preselection
      routines. Mainly we forgot to filter already downloaded mail,
      even if the user aborted the transfer, this would leave
      unfiltered mail in the incoming folder.
      Secondly, the PAUSE and RESUME buttons within the preselection
      window somehow didn`t work correctly because we forgot to
      remember the last mail that was displayed within the transfer
      window. Now the whole preselection stuff should work as
      expected and a bit safer.
    * YAM.c, YAM_UT.c: fixed the recalculation routines of the
      folder listtree where it didn`t take respect of grandparent
      folder groups. If a mail within a folder had the status of
      Unread and this folder was itself also located within a full
      folder group hierarchy, all the grandparent foldergroups didn`t
      refreshed their statuses.

2002-06-27  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_TR.c: fixed some design bugs within the TCP/IP stuff.
      We didn`t issue a QUIT command to either the POP3 or SMTP
      server on a abort. Also fixed some enforcer hits that occured
      on aborting of transfers. This whole abort functionality
      should perform a bit better now, even if it`s implementation
      is very bad and has to be rewritten within the next release.
    * YAM.c: fixed a big flaw in the mail transfer routines
      where YAM didn`t take respect of a preselection window if
      a automatic mailcheck was selected within the Start/Finish
      section of the Config. This should fix the bugreport #555673
    * YAM.c, YAM_rexx_rxif.c: the WRITE#? and READ#? rexx commands
      were often missunderstood to work on the actual windows that
      are opened by the gui. But for these commands to work properly
      it is necessary to issue a MAILWRITE or MAILREAD command first
      to set a window active within the own arexx scope. The only
      problem that arised from the actual implementation was, that
      this scope variables were set by default to 0 and therefore
      the first opened window was the actual window this commands
      were performed on. Now YAM will set this active variables by
      default to -1 so that a user HAVE TO issue a MAILREAD/WRITE
      command before using any of the WRITE#?/READ#? commands.
      This should explain and make the reported "bugs" #555118 and
      #555120 obsolete.

2002-06-26  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_TR.c: fixed another flaw in the POP3 implementation of YAM
      where YAM didn`t check the statuscode of the welcome message of
      the POP3 server it was connecting to. Now YAM should pop up
      a proper error message with terminating the connection
      accordingly.
    * YAM_TR.c: fixed a small TCP/IP flaw within the APOP functions
      where YAM ignored the APOP identified supplied within the
      welcomemessage of the pop server. Now YAM should throw a
      proper error message with exiting the POP routines immediatly.
    * YAM_TR.c, YAM.cd: fixed some flaws in the ESMTP handling where
      we issued a STARTTLS command without checking previously if the
      mailer supports it or not. Also enhanced the whole ESMTP handling
      a bit, so that we can use SMTP Server extension in future easier.
      Also added some more detailed error messages to inform the user
      that a Server doesn`t support a particular selected extension.

2002-06-25  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM.c, YAM_TR.c: fixed missbehaviours with MUIA_Window_Activate
      where we sometimes activated the Main/Transferwindow were it
      shouldn`t be. Also fixed a bug where a MUIA_Window_Open with TRUE
      caused the window to activate if the window was already open.
      Now YAM shouldn`t interrupt the user if it`s really not
      necessary.

2002-06-22  Jacob Laursen <jlaur@mail1.stofanet.dk>

    * Improved the MCC check - now automatically attempts flushing,
      shows the version number of any existing MCC and allows for
      retrying.

2002-06-22  Jens Langner <Jens.Langner@htw-dresden.de>

    * classes/Addrmatchlist.c: fixed bug #571831 where it could
      have happened that entries with the same Realname in the
      address matchlist caused a conflict and made it impossible
      to select the second entry.

2002-06-21  Jens Langner <Jens.Langner@htw-dresden.de>

    * smakefile: changed SAS/C makefile to start the autogenerating
      tools automatically if something has changed. Also added
      directory variables to easily change them on compiletime.
    * YAM.c, YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM_MA.c, YAM_TR.c:
      fixed a bug in the TLS/SSL recognition routines where it could
      have happen that a user selected SSL for a connection but the
      next time the amissl library is perhaps not available. In that
      situation YAM still tried to initiate a SSL connection and
      suddenly hang. Now YAM will throw a error message telling the
      user that he has selected SSL but SSL is not available right now.
      Also changed the configuration accordingly that the user can
      still disable the SSL support for those connection, but can`t
      enable it again as long as SSL is not available.
    * YAM.c: fixed bug where it could have happened that on a
      restart the AppIcon wasn`t displayed anymore.
    * YAM.c: fixed bug #560664 where YAM didn`t add the Okay
      button to the About window at initiating a restart.
    * YAM.c: fixed bug #555675 where YAM "lost" the folder group
      status on a restart of YAM.

2002-06-20  Jens Langner <Jens.Langner@htw-dresden.de>

    * Makefile.MorphOS: added stub link library calls so that YAM will
      get the correct stub functions for some STDARG functions.
      This should fix some strange hang ups when using YAM with MOS.
    * extrasrc/dice.c: removed the NO_PPCINLINE_STDARG check, because we
      cannot use the STDARG functions in there for PPC. We have to use
      stub functions instead provided by stubs libraries.
    * YAM_COg.c: added some debug information to debug the XPK a bit.
    * YAM_hook.h: added some documentation/example about the hook macros.

2002-06-17  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_hook.h: fixed a nasty bug within the HOOK macros for MorphOS
      that caused the whole hook stuff to freak out. :)
      Now Hooks should work as expected.

2002-06-16  Jens Langner <Jens.Langner@htw-dresden.de>

    * reworked the handling of varargs functions within YAM to make
      it compatible/compileable with MorphOS.
      This should fix some crashes caused by misshandles vararg
      functions under MorphOS.

2002-06-12  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_MAf.c: fixed corrupt .index file WARNING for MorphOS.
      We simply forgot to align the .index structures for PPC. Also
      added some general ALIGN and PACKED defines to the
      SDI_compiler.h for easier use.
      NOTE: We have to be careful in future with intercommunication
      structures between 68k and PPC, so all structures that used
      directly on both plaforms (like for this .index files) have to
      be aligned for the PPC, so that this files will be compatible to
      eachother.

2002-06-10  David Rey <david@saug.org>

    * YAM_TR.c: Changed the event code issued with MSG_LOG_SendingVerbose
      to be 42.  41 was already in use by MSG_LOG_ConnectSMTP, and on the
      other hand 42 is also consistent with 32 as used by
      MSG_LOG_RetrievingVerbose
    * YAM.c: Likewise, MSG_LOG_LoggedInVerbose will use code 2 from now
      on instead of 1, which is reserved for MSG_LOG_LoggedIn

2002-06-10  Jens Langner <Jens.Langner@htw-dresden.de>

    * all_morphos.c: removed file, because the whole libnix stuff
      of morphos is now somehow more compatible and so we can use
      the more general all_gcc.c for morphos support also
    * did some efforts on getting YAM compiled for MorphOS again.
      Updated several includes and included ppcinline includes
      to the CVS tree.
      Even if I couldn`t tested it yet, it`s compiling and linking
      correctly. So this needs some more tests until we can release
      a new MorphOS version.

2002-06-08  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_rexx_rxif.c: fixed bug #563641 where the ADDRDELETE function
      still didn`t work without providing an Alias. Now it should
      perform like stated in the documentation of the Arexx command.
    * YAM.h, YAM_MA.c, YAM_WR.c, YAM_write.h, YAM_rexx_rxif.*:
      change the signature of the corresponding AddSignature function
      to receive just the number of the window to add the signature to.
      That way we can easily set the Radiobutton accordingly.
    * YAM_WR.c: fixed a bug where YAM didn`t enable the correct
      Radiobutton for Signatures if the mailinglist signature
      feature was used.
    * YAM_MA.c: fixed bug #557522 where on a reply with a selected
      mailing list folder YAM wasn`t inserting the correct
      signature at all. Now it should insert the correct one
      depending on the mailing list variables of the folder.
    * YAM_FO.c: fixed a small, but nasty bug within the Folderimage
      allocation routines that stopped YAM somehow to show up the
      GUI if the user had just enabled one column of the Folder
      NListtree.

2002-06-02  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_MA.c: to be on the safe side with that ReturnID issues,
      I increased the minimum ReturnID for the Menuitems to 100,
      taking care of dynamic elements like the POP3 list.
    * YAM_utilities.h: as it seems it wasn`t that wise to
      call MUIM_Application_Input with a 0 as the signal address,
      because it still prevented it from collecting returnIDs which
      resulting in a non-working requester within the online-version
      checking.
    * #?.c: removed a whole bunch of gcc warnings. Mainly some
      suggested paratheses and wrong format descriptions.
      Nothing really serious and cross-checked with SAS/C.
    * Makefile: Changed the Makefile to be more compatible to the
      SAS/C smakefile. Now the invocation should be somehow the
      same, especially for creating non-debug versions.

2002-06-01  Jens Langner <Jens.Langner@htw-dresden.de>

    * Makefile, inline/#?: Did some efforts to get YAM compiled
      with gcc again, as we will need that in future for sure.
    * YAM_AB.c, YAM_RE.c: also added the capslock (fix) to other
      places like the addressbook and read window to allow the user
      to still use his keys with a turned on capslock.

2002-05-30  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM.c: fixed bug #556531. YAM will now also execute the
      Start&Stop Macros, as defined within the configuration, at
      initiating of a "Restart".

2002-05-27  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_MA.c: YAM treats (SHIFT)+DEL keypresses with a turned on
      CapsLock like without Capslock now. This should improve the
      usability a bit, because it can happen quite often that a user
      enables the caps lock errounously while typing around.

2002-05-22  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM.c, YAM.cd: added a more descriptive error message about
      the minimum requirement versions of MCCs and reworked the Abort()
      routines a bit
    * YAM.c: raised minimum requirement version for NList.mcc to
      v20.104 and NListtree v18.12 as this versions fixes some bugs
      that would otherwise make YAM unstable.
    * YAM_UT.c: reimplemented the original MUI_Request() function
      in a more secure, reliable way. This fixes some LONG READ
      enforcer hits as it seems that the original MUI_Request()
      is quite broken and shouldn`t be used at all.

2002-05-21  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_rexx_rxif.c: fixed bug #555128 where YAM didn`t return
      the default screenname "Workbench" on issueing a INFO screen
      rexx command, if it was iconified.
    * YAM_CO.c: fixed bug #556527 where the signature cyclegadget
      didn`t work anymore because of a incorrect return.

2002-05-19  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_AB.c: added a more sophisticated error handling to the
      LoadTree() function to return a proper error message even
      if the file exists but isn`t accessible at all.
    * YAM_FO.c: the bug #555117 wasn`t completly fixed because
      FO_GetFolderRexx() still counted groups as folders.

2002-05-17  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_rexx_rxif.c: fixed bug #555126 where the USERINFO arexx
      command also counted folder groups as real folders.
    * YAM_FO.c, YAM.cd: fixed bug #555123 by adding new localization
      strings for the Edit Folder group String requester.
    * YAM_rexx_rxif.c: fixed bug #555117 where using the NEWMAILFILE
      arexx command worked on groups, which was obviously wrong.
    * YAM_MA.c: fixed bug #555116 where calling the RescanIndexHook
      on a folder which isn`t really a real one (FT_GROUP) caused
      the creation of a bogus .index file at PROGDIR:
    * YAM_rexx_rxif.c: fixed bug #555115 where the MAILREAD
      rexx command didn`t activate a readwindow as stated
      in the documentation.
    * YAM_AB.c: fixed bug/flaw #555113 by adding additional
      checkings and a requester to inform the user that YAM
      will process a non YAM addressbook file as a newline
      separated file of email addresses.
    * YAM_UT.c, YAM_utilities.h: added a wrapper function to
      implement a MUI_Request() in a secure way. Also added a
      wrapper #define for MUI_Request() to automatically use
      the new YAMMUIRequest() function.
    * YAM_FO.c, YAM_US.c, YAM_UT.c, YAM_utilities.h:
      introduced some special macros COLLECT_RETURNIDS and
      REISSUE_RETURNIDS to handle some problems with overlapping
      ReturnID values at the usage time of MUIM_Notifys with
      MenuActions.

2002-05-15  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_AB.c: fixed bug #555112 where we cleared the Listtree before
      we checked if the file can be opened and therefore could have
      lost the whole addressbook if it wasn`t loadable at all.
    * accordingly to recent discussions in the dev-ML I added some
      general flag handling macros to YAM_utilities.h and spread
      them all over the sources. With this macros flag handling
      should be simplified a bit and hopefully they will also reduce
      the risk of handling flags incorrect.
      In addition to that general flag macros every flag itself has
      now some kinda "check-macro" where the current state can be
      checked by accessing it`s is/has macro which always returns
      TRUE or FALSE accordingly to the actual state.

2002-05-10  Jens Langner <Jens.Langner@htw-dresden.de>

    * added #define vars for the rule actions in YAM_main.h and
      spread them all over the sources to deal with symbolic names
      instead.
    * YAM_CO.c: changed the AddRule button behaviour a bit, so
      that it will now automatically activate the name stringgadget
      and autoselect any string in there. This should be a bit more
      handy for the user.
    * YAM_MA.c: fixed bug where a Remote-Filter executed actions
      it was not supposed to do and it was also possible to fire
      a remote filter were it shouldn`t have been possible at all.
      i.e. on the Filter button in the main window aso.

2002-05-09  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM_TR.c: fixed bug where we didn`t checked the result code
      of a TR_SendCMTPCmd() call and therefore placed the mail in
      the wrong folder on an error.
    * added a proper status message to the connecting process of
      the SMTP send commands. Now YAM will show a message that
      it is trying to connect to the SMTP server. Formerly
      there were no status message at all informing the user
      about what is next.

2002-05-07  Jens Langner <Jens.Langner@htw-dresden.de>

    * change the title generation of the MailContextMenu to show
      a subset of the Sender/Recipient instead of the Mailfile
      number.

2002-05-06  Jens Langner <Jens.Langner@htw-dresden.de>

    * added a Busy() call to the POP transfer functions so that
      the user still has a indicator what`s going on if he has
      enabled time depending mail checking.
    * fixed another bug in the ADDRRESOLVE rexx command where it
      was also checking the emailcache what is not supposed to
      happen with the command.
    * fixed bug #552414 where the creations of a Recipientstring
      object in the ADDRRESOLVE rexx command caused some enforcer
      hits later because we were refering to the renderinfo of that
      object where obviously is not renderinfo at all.
    * fixed bug #552395 where we forgot to set a pointer to a
      empty string by default to prevent a NULL pointer hit.
    * got rid of the SAS/C portability warnings #120 by modifying
      the code a bit. Now #120 warnings are turned on in the
      smakefile also.

2002-05-02  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug #551543 where we didn`t check for a NULL pointer in
      YAM_AB.c - AB_GotoEntry().

2002-05-01  David Rey <david@saug.org>

    * YAM_WR.c: updated the URLs given by the MIME warning in
      WR_ComposeReport.

2002-05-01  Jens Langner <Jens.Langner@htw-dresden.de>

    * changed internal busy gauge handling a bit. Now there is the
      possibility to have multiple BusyLevels (maximum defined by
      BUSYLEVEL). This makes it possible to show a information at the
      Infobar and by ending it with BusyEnd, it will print the previous
      message that occured.
      This also fixes some bugs were we wanted to show the user some
      information but it was not possible because a previous Busy state
      wasn`t closed by BusyEnd.
    * fixed a small flaw in the PGP recognition stuff. Now YAM will
      explicitly flag a message as crypted/signed if it couldn`t be
      found out initially by scanning the header while downloading
      the message. Now YAM will flag this message as crypted/signed
      along with flagging the folder it resists in as modified.

2002-04-30  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed (worked-around) the bug #534430. I call this "worked-around"
      because it seems that if the autocorrect feature of TextEditor.mcc
      is turned on and we close the amissl.library within YAM somehow,
      something gets really wrong within YAM which results in strange
      crashes/lock ups as soon as the autocorrect feature gets initiate
      from within the TextEditor.mcc. I really couldn`t see any dependency
      between closing amissl.library and this lock ups within texteditor.mcc,
      but simply keeping the amissl.library open for the lifetime of YAM
      solved the problem somehow.
    * added a error message to the import mail function to tell the user
      that a selected file doesn`t contain any mails.
    * fixed bug in GetMailFile() utility functions where a -1 assignment
      to a folder wasn`t checked. This fixes a bug in the import mail
      handling as well as in other places.

2002-04-29  Jens Langner <Jens.Langner@htw-dresden.de>

    * reverted the fix #508202 because as it pointed out this wasn`t
      really a bug at all.
    * changed some of those small utility functions to act as macros.
    * fixed a nasty bug in the multipart handling code where we forgot to
      close the output file on a error condition. That resulted in a
      crash if we tried to open that mail several times.

2002-04-28  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed some possible errors with not checking the result of Examine()
      all over at different places. Now this functions should really perform
      a bit more secure on this.

2002-04-23  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug in the mail listview display hook were it was possible that
      the status flag wasn`t displayed/screwed because of a too long Address
      column.

2002-04-21  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed serious bug in hmac_md5() function were we replaced bcopy() with
      memcpy() and overwritten the key string, because a bcopy() is per
      define a memmove(). Now the CRAM-MD5 authentification with ESMTP
      servers should work again.

2002-04-19  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed a TCP/IP issue flaw within the TR_Connect() function were it could
      have happened that if a particular host has 2 different IPs in the
      DNS and the first was down, YAM didn`t try to connect to the other one
      instead and just reported a error.

2002-04-17  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed behaviour of status flag ordering again a bit. Now it should
      really perform like stated within the documentation
    * fixed another mailfile-doesn`t-exists bugs concerning mail copying
      and transfering to another folder. Now YAM should throw proper
      error messages instead.
    * fixed more possibly bug issues on the mailfile-doesn`t-exist fact
      because the result code from MA_ExamineMail() wasn`t checked
      everywhere probably.
    * fixed bug #461926 by throwing an error requester now, informing the
      user that YAM tried to open a mail file that doesn`t exists anymore
      but is still listed in the folder.

2002-04-16  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug #480905/505857 by changing the temporary file handling like
      described below and also by just opening a eventually unwriteable file
      with just read because it is locked by another application (viewer)
    * changed behaviour of the temporary file handling a bit to make it more
      secure. Now YAM not only identifies tempfiles by the window and part
      number, it also takes the serialzed ID of the mail itself, so this
      tempfiles should be really unique while mail reading which will
      fix many issues/bugs that are related to that old restriction/flaw.

2002-04-15  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug #528105 that was caused because of the usage of one shared
      displayhook for the maillistview and the findmaillistview in the find
      window. Now we just set MUIA_NList_DisplayRecall to inform both listview
      of this situation.
    * fixed a small flaw in the Mail Listview display hook were YAM could have
      been displaying empty From: strings when a user/group doesn`t have a name
      within the addressbook. Now it just displays the email instead.
    * changed behaviour of Folder Listtree according to doubleclick events a
      bit. If the user now double clicks on a folder group it will just fold
      or unfold the tree and not popup the change requester for it. This
      feels a little bit better because in the past it could happen that
      on a doubleclick for fold/unfold the requester poped up aswell which
      was quite annoying.

2002-04-14  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed some problems with setting a folder active without opening the
      parent node in the hierarchical system. This kills bug #528080
    * fixed behaviour of LISTSELECT arexx command to really select/deselect all
      messages as described in the documentation. Fixes bug #508202
    * fixed some possible bugs in the arexx interface were it could happen that
      it did some harmful stuff with invalid ActiveWriteWindow values. Now these
      situations just returns an RETURN_ERROR instead.
    * the MAILWRITE command will now return a RETURN_WARN if the user tried to
      send WINDOW value other than 0 or 1.
    * changed behaviour of Arexx commands that will set a write window active.
      If now the command is executed without QUIET, the window will really go
      active. This should fix some confusion about this behaviour as well.
      This should kill one bug of ticket #466021
    * fixed bug #506533 where YAM didn`t jump to a new message when a ghosted
      folder was selected before.
    * fixed another enforcer hit that occured on filtering mails by msgbody or
      header.

2002-04-13  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed occuring enforcer hits in the filter routing where YAM caused some
      hits when you were filtering by message body. bug #528631
    * fixed the Status flag sorting routine accordingly to bug #474525
    * increased the max. string size for email adresses to 150 and for NAMES to 30
      That should fix bug #460430 and #511259.
    * fixed bug #456134 accordingly that it will only display the senderinfo if
      there is only one person with that realname in the Addressbook.
    * changed email string gadgets in Filter settings to use the ResolveString
      string gadget.
    * fixed bug in AttachRequest() function where it could happen that if the
      user did 2 same attachment requests it returned a partlist that the user
      hasn`t even selected. fixes bug #433800

2002-04-11  Jens Langner <Jens.Langner@htw-dresden.de>

    * did some minor cosmetic change to the send window accordingly
      to bug #433765

2002-03-02  David Rey <david@saug.org>

    * YAM_RE.c: fixed the duplicated "shift right" menu shorcut
      (bug #440010)

2002-02-22  Gunther Nikl <gni@gecko.de>

    * YAM_AB.c, YAM_CL.c, YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM_EA.c, YAM_FI.c,
      YAM_FO.c, YAM_MA.c, YAM_MAf.c, YAM_RE.c, YAM_TR.c, YAM_UT.c, YAM_WR.c:
      converted TABs to spaces
    * includes/inline/muimaster.h: switched to macro based inlines
    * YAM_TR.c: removed AmiSSLBase definition
    * YAM_global.c: added here

2002-02-22  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed smakefile accordingly to new genclasses changes.
      Now YAM should be compileable with SAS/C again.

2002-02-21  Gunther Nikl <gni@gecko.de>

    * YAM_FI.c/FI_SearchPatternInBody: fix typo
    * YAM_MI.c/outdec: fix GCC warnings

2002-02-21  Gunther Nikl <gni@gecko.de>

    * extrasrc/genclasses: updated for new headername convention
    * classes/Addrmatchlist.c,classes/InfoBar.c,classes/Recipientstring.c,
      classes/Searchwindow.c,classes/YAM.c: adapt includes for new naming
      convention

2002-02-20  Gunther Nikl <gni@gecko.de>

    * libraries/pm.h: fixed GCC warnings about anonymous unions
    * proto/amissl.h: added support for different compilers
    * inline/amissl.h: added
    * extrasrc/dice.c: added AMISSL stub functions

2002-02-16  Jens Langner <Jens.Langner@htw-dresden.de>

    * added new JumpToIncoming hidden option and set it by default
      to FALSE. If enabled YAM will jump to new incoming messages
      after retrival.

2002-01-21  Jens Langner <Jens.Langner@htw-dresden.de>

    * the listview in the find window will be sorted by date by
      default now. This makes more sense then sorting by filename
      like it did before.
    * updated the X-Mailer header to reflect 2002.

2002-01-17  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug in the listview display of the glossary. Now YAM
      should again display every glossary item correct.

2002-01-04  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug where YAM lost the LastActive variable which normally
      saves the last active entry in a mail folder and jumps to this
      position if the folder is activated again.
    * YAM now also jumps to a new received message after getting
      all mail from the POP servers with respect to the JumpToNewMsg
      option.
    * changed copyright note to reflect the new year 2002.

2001-12-21  Jens Langner <Jens.Langner@htw-dresden.de>

    * removed support@yam.ch email from About window on request
      from Marcel Beck.
    * reworked the YAM.cd a bit.

2001-12-16  Christian Hattemer <krille@users.sourceforge.net>

    * YAM_EA.c: Added missing MUIA_ControlChar to security cycle

2001-12-11  Jens Langner <Jens.Langner@htw-dresden.de>

    * the SWSSearch() function requires more stack than I thought and
      so I increased it to obtain 65535 bytes to be on the safe side.
      This fixes the enforcer hit that occured on the use of the new
      autoguess feature for MLs.

2001-12-11  Christian Hattemer <krille@users.sourceforge.net>

    * YAM_RE.c: fixed crash when the edit window was opened from
      a read window and the read window was closed before clicking
      "Send Later", "Send Now" or "Hold" in the write window.
      Fixes Bug #481316

2001-12-08  Jens Langner <Jens.Langner@htw-dresden.de>

    * we use a Recipientstring for the return address specification
      in the configuration of AB Lists now.

2001-12-07  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug in email cache that caused that new entries weren`t
      added to the cache if it was already filled up completly.
    * the email cache check routines for the addressbook now only
      check for a existing AB entry with the email address because we
      don`t want to have duplicate entries in the AB and EmailCache.

2001-12-05  Jens Langner <Jens.Langner@htw-dresden.de>

    * added support for emailcache resolving in recipientstrings.
      Now YAM should also fully resolve a email adress out of the
      email cache if the user press return.

2001-12-04  Jens Langner <Jens.Langner@htw-dresden.de>

    * the incoming folder appicon stats is now enabled by default if not
      explicitly disabled in the folder config. (Bug #484553)
    * fixed a not localized string in the MIME import functions
      (Bug #441917)
    * changed drag&drop routines of folder NListtree accordingly that
      if the user tries to drop a mail to a folder it should only appear
      if he has the mouse over the folder and not above or below it.
      Also changed the DragReport routines that if the user drops a
      folder onto another folder a sign should not appear and only drops
      below or above should be allowed.
      Concerning the MAIL->FOLDER drop routines there seems to be still a
      flaw in NListtree because it`s somehow still possible to drag a mail
      in between of two folder but it will then be moved to one of those.

2001-12-03  Jens Langner <Jens.Langner@htw-dresden.de>

    * removed the tiny font from the Autodetect button in the folder
      configuration following the MUI Styleguide.
    * reapplied the tiny font in the info bar.

2001-11-25  AmiS <amis@amiga.org.ru>

    * Added "Codepage Autodetect/Translation" option.
      If this option is enabled, YAM will statistically analyse
      message text, from/to/subject fields and MIME text/* attachments
      (independently) and automatically translate them to system codepage.
      Mainly for cyrillic users.  See guide for detailed description.

2001-11-22  Jacob Laursen <laursen@myself.com>

    * Commas inside quotes are now accepted as valid characters in
      recipient strings.

2001-11-20  Gunther Nikl <gni@gecko.de>

    * (YAM.c/InitLib): changed return type to APTR for better NDK
      compatibility and removed cast of InitLib() calls
    * YAM_global.c: unified yamversion#? strings

2001-11-16  Jens Langner <Jens.Langner@htw-dresden.de>

    * removed a unneeded error message in the SMTP send routines
      as the TR_SendSMTPCmd() always throws out errors on failure.

2001-11-15  Jens Langner <Jens.Langner@htw-dresden.de>

    * added SMTP SSL/TLS support through AmiSSL accordingly to
      (RFC 2487)
    * fixed bug in the SMTP routines where it happened that
      if a SMTP AUTH request wasn`t succesfull we forgot to
      disconnect from the server.
    * fixed a bug in the SMTP AUTH routines where the server response
      wasn`t displayed to the user on a authentication failure.
    * made some cosmetic code changes to the SMTP AUTH part.
    * added possibility to explicitly specify the POP3 and SMTP Port
      in a string gadget in the configuration.
    * added POP3 SSL/TLS support for stunnel servers (port 995) and
      also POP3-server that supports the STLS command set like
      suggested in (RFC 2595)
    * implemented optional TLS/SSL support by using AmiSSL library
      from Andrija Antonijevic, which is a public AmigaOS port
      of OpenSSL (RFC 2246)

2001-11-10  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed a security flaw in YAM where it was possible that a user
      received a mail with special escape sequences in the Mail header
      that were interpreted by MUI. And with additional knowledge
      about PIPE mechanisms it was possible to execute real commands
      that could harm the system!
      YAM now strips out those escape sequences in the header of a
      mail as soon as it receives them.

2001-10-28  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug where a empty ", ," string in a recipient gadget were
      resolved as the whole AB.
    * on resolve, if a realname doesn`t exists in the AB, the recipient
      resolve feature only completes the address with the email.
    * if more than one entry for a recipientstring is found in the
      addressbook the Resolve routines doesn`t just take the first
      one for resolving, they now stop resolving it.
    * fixed a little flaw in the recipientstring class where it
      wasn`t possible to select the correct recipient if more
      than one entry with the same realname was found in the
      addressbook.
    * Parts in a multipart mail will now be displayed colored to
      indicate that they are clickable.

2001-10-27  Jens Langner <Jens.Langner@htw-dresden.de>

    * YAM now also brings all windows to the front if the AppIcon
      is doubleclicked while the main window is open.
    * implemented match & save functions for new emailcache
      feature. Now YAM should save/move entries in the emailcache
      list to the corresponding file. This finally finishes the
      emailcache feature.

2001-10-26  Jens Langner <Jens.Langner@htw-dresden.de>

    * added functions/methods to use the new emailcache on a
      recipientstring. Moved match function from the addrmatchlist
      to the YAM main subclass like proposed in the mailinglist.
    * added config entry and GUI elements for upcoming emailcache
      feature. Also reconfigured some GUI elements to use a
      NumericbuttonObject.

2001-10-25  Jens Langner <Jens.Langner@htw-dresden.de>

    * added feature to try to automatically detect the mailinglist
      pattern and To: field by integrating the Smith&Waterman
      algorithm for a string similarity search.
      YAM will try to detect the pattern from the first 5 messages
      in a folder and only if the pattern is != #? it will be
      placed into the pattern string gadget.
      This should make it easier to enter the correct mailinglist
      pattern.
    * by default we disable the ML support for the standard folders
      like INCOMING/OUTGOING/SENT/DELETED.
    * the mailinglist support of every folder can now be explicitly
      enabled/disabled

2001-10-21  Jens Langner <Jens.Langner@htw-dresden.de>

    * the folder configuration window now also uses YAM`s standard
      Addressfield string for the ML support.

2001-10-20  Jens Langner <Jens.Langner@htw-dresden.de>

    * changed InfoBar label refresh not to refresh the folder image
      also, because this causes some unnecessary flickering while
      opening a read mail window.
    * added user ability to define the InfoBar label with own text
      and inputs from a folder. This finishes the missing features
      of the new InfoBar.

2001-10-19  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed enforcer hit that happened on a manual filter operation.
    * added ability to configurate the position of the new Infobar
      along with the ability to disable it completly.
    * changed catalog description for the new introduced size formats
      in YAM, because they were a bit strange :)

2001-10-18  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed another bug that caused the insert of a wrong signature
      if a user replied to a message that resisted in the incoming
      folder.
    * fixed a tiny bug in the StripSignature routines were it could
      have happened that a signature doesn`t get stripped.

2001-10-17  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed another bug in the ML support were it happened that on a
      reply of a mail without a ReplyTo: field the mail were sent
      to the mailinglist and the sender.

2001-10-12  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug #468896 where the old Folder/Order/Reset option caused
      a serious crash of YAM.
    * added reload tree option to the folder context menu
    * switched off automatic sorting of the folder listtree because it`s
      not supported yet.
    * Added/Created new InfoBar class, removed the bottom gauge bar and
      made this InfoBar a default setting.
      This new InfoBar combines the old first version of the InfoBar
      together with the bottom GaugeBar and Busy texts/gauges are only
      displayed if necessary.

      This InfoBar class is NOT finished yet and there are still some
      unimplemented features like:
      - user configurable InfoBar position (Top/Center/Bottom)
      - user configurable Folder text (number of new mails etc.)

      The new style of this InfoBar is not finished yet and any suggestion
      is welcome.

2001-09-14  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed another bug in the folder listtree were on a drag&drop mail
      move operation the incorrect folder was refreshed if a folder
      group was fold.
    * fixed bug in folder listtree were it wasn`t possible to drag any
      mail to another folder if one of the folder groups were fold.

2001-09-13  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug #432328 where the wrong image was displayed if a folder
      was a password protected one.
    * fixed bug #450062 where the index of some folders wasn`t displayed
      because only visible entries of the Listtree were selected to be
      displayed.

2001-09-12  Jens Langner <Jens.Langner@htw-dresden.de>

    * fixed bug #432331 where it happened that, if no action was performed
      at the start of YAM that caused the AppIcon to refresh, no AppIcon
      was displayed at all.
    * fixed bug #459478 where MyStrCpy() was used with a string pointer
      while MyStrCpy() doesn`t accept string pointer, which will result in
      a broken string copy.

2001-09-12  Christian Hattemer <krille@users.sourceforge.net>

    * YAM_RE.c: Now accepts "(" and ")" in URLs also
      (according to RFC 1738, ";" are also allowed in some cases
       but not yet added)
      Fixes Bug #460488

2001-09-06  Jens Langner <Jens.Langner@htw-dresden.de>

    * commented MUIA_Application_Sleep calls in Busy() function. This is the
      cause for bug #458521. This busybar stuff anyway will be reworked
      completly if the new infobar is finished which will replace this
      bottom busybar.
    * modified makefile to reflect new genclasses tool
      Now you can directly compile the genclasses tool by specifing
      the smakefile target "GenClasses".
      You can also execute the genclasses tool to auto-generate
      all necessary sourcesfiles with the target "ClassInfo".
    * modified class sources to be compatible with the new genclasses
      tool from Andrew.

2001-09-03  Jens Langner <Jens.Langner@htw-dresden.de>

    * added error message to move mail filter operation if it tries
      to move a mail to a folder that couldn`t be found by name.
      This can happen if a filter rule exists and the user renames
      a folder. Now a error message pops up and tells the user that
      this operation failed !
    * added missing localization to the newfoldergroup requester.
    * fixed bug #433745 where YAM was not displaying the check.info
      icon anymore.
    * fixed bug #433751 that caused flickering of the AppIcon after
      recalculating the statistics.
    * added standard source headers to new classfiles
    * set emailcache filename lowercase with a uppercase assign.

2001-08-22  Allan Odgaard <duff@diku.dk>

    * When using D(DBF_ERROR, ()) then a DisplayBeep() is issued.
    * The FindUserData-hook used to resolve email aliases is now restricted to
      only find matches of type AET_USER or AET_LIST.

2001-08-05  Allan Odgaard <duff@diku.dk>

    * Added loading of email cache in OM_NEW of new application subclass.
    * Added Debug.c and Debug.h to the repository. The system is used like
      this (notice no \n and no ;):
             D(DBF_ALWAYS, ("this value is %ld", val))
      When DEBUG isn't defined this turns into ';', so you can write:
             for(int i = 0; i < 10; i++)
                D(DBF_ERROR, ("invalid item: %ld", a[i]))
      I.e. without using braces.
      DBF_ALWAYS is used for stuff that must always be shown. DBF_ERROR when
      something fails. DBF_VERBOSE is for generally interesting messages which
      doesn't really fit a category. The rest of the flags has to be added
      when required. They should be categorized, i.e. no flag for 'my fancy
      feature', but instead a flag for i/o, network stuff etc.
      You enable debug output with "SetEnv YAMDebug flags". Flags is a
      comma, space or semi-colon separated list of stuff you want enabled.
      E.g. "io, verbose, error". You can also enter "all" to get everything
      enabled.
      Currently 'always' and 'error' are enabled by default (and can't be
      disabled).
    * Some styleguide changes.
    * Changed version string to say 'dev' instead of 'devel'.
    * Added an application subclass which is now used.

2001-08-06  Jens Langner <Jens.Langner@htw-dresden.de>

    * ContextMenus now also open in areas where no mail/folder is, so that this
      popupmenus can be used to generate at least a new folder/group or mail.
    * If a context menu is opened on a already active entry the maillist will
      not be refreshed anymore. This should reduce flickering at least on
      already active entries.

2001-08-06  Jacob Laursen <laursen@myself.com>

    * Now respects the "Iconified on startup" MUI setting. If the HIDE
      tooltype is present, it'll override it.

2001-08-05  Jens Langner <Jens.Langner@htw-dresden.de>

    * the delete folder menu item & context menu entry does not allow to remove
      the incoming/deleted/sent/outgoing folder anymore. This was the standard
      behaviour before the hierarchical folder system was added and was broken.
      This fixes bug #445602 also.
    * if a folder group is going to be deleted YAM will pop up a requester now
      asking the user to confirm if it is not empty. If this folder group
      contains any subfolders or another group, then this subentries will be
      moved to the parent folder of the group first.
    * reverted changes to the resolve method of the recipientstring to reduce
      complexity of the code. (who requested this... guess?)
    * turned the ChangeLog upsidedown. Now the newest entry should always be
      attached to the top because this is more natural.

2001-08-05  Allan Odgaard <duff@diku.dk>

    * Fixed enforcer hit in Recipientstring class (censored).
    * ResolveOnCR defaults to FALSE similar to AdvanceOnCR.
    * Pressing 'delete' in a recipient string will now delete close the popup
      list.
    * The mails in the main listview are now shown to be from the real name
      of the sender found in your addressbook (this name should also be used
      when replying to the letter and composing the greeting phrase, but is
      currently not).
    * Removed classes/Classes.h dependency from class sources!
    * Added ClassesExtra.h file.
    * Added section about tags and compact switch/cases to the styleguide.
    * Moved the address list popup window to its own class.
    * The adddress list popup window will now adapt to the position and size
      of the parent window, when changed.
    * Escape will now close the address matchlist popup window (and
      MUIKEY_WINDOW_CLOSE is disabled for the recipient string as long as the
      window is open).

2001-08-02  Allan Odgaard <duff@diku.dk>

    * Recipientstring class no longer sets the frame, cyclechain or 'advance
      on cr' tags.
    * Ensured that all source descriptions are now prefixed with ' Module:'.
      This allows e.g. to do a Search YAM_#?.c "*N Module:" to see the
      description of each source file.

2001-08-02  Jens Langner <Jens.Langner@htw-dresden.de>

    * added a MUIA_Recipientstring_NoResolve attribute to the recipientstring
      class. If this attribute is set to TRUE the recipientstring is not going
      to perform a resolving on the entered string, what means in fact that it
      will not transform it with a realname or something else.
    * fixed some bugs recently introduced to the recipientstring class.
    * the recipient string class now only set the focus on the next object
      if the MUIA_String_AdvanceOnCR is set.
    * renamed the MUIA_Recipientstring_Resolve_NoResolve to _ResolveOnCR
      accordingly to some discussions.
    * renamed GetMUI() function to xget() because this is a more "standard"
      name for this function.
    * the ShowMatches() method of the recipient string class is now using
      SetAttrs() for setting the list position.
    * added EXPORT statement for the MUIF_ flags to the recipient string class
      to allow the autogen tool to take care about this.
    * removed obsolete DD_String class stuff including WR_ResolveName() and
      WR_ExpandAddresses()
    * modified smakefile to reflect every dependency for the classes.

2001-08-01  Jens Langner <Jens.Langner@htw-dresden.de>

    * changed RETURN, SHIFT+RETURN behaviour as discussed in the mailing list.
      Now YAM should resolve any entered string without the realname if the user
      press SHIFT+RETURN in a recipientstring gadget.
    * changed the string gadget checks if a mail is going to be sent accordingly
      to the above behaviour. Now YAM will pop up an error requester if a user
      tries to send a email and it can`t resolve any entered string or if the
      From: is missing.
    * YAM will also change the focus of the pagegroup and string gadget that
      produced the failure, so that the user can immediatly change it.
    * added From: is missing warning requester. Now YAM will warn the user that
      the From: string is empty and allow him to either use the default sender
      address from the config or reenter the string again.
    * fixed bug in recipient string where the position of the popuplist was not
      set everytime it was opened. This caused that if the window was moved in
      between of two popups, then the popuplist was displayed on a wrong position.
      Still one flaw:
      1)if the window is moved while the popuplist ist open, then the popuplist
        will not move it`s position in sync with the window.

2001-08-01  Gunther Nikl <gni@gecko.de>

    * YAM_rexx.c (global): added REXXMSG macro to hide annoying NDK difference
      (ReplyRexxCommand, DoRXCommand): use it
    * YAM_rexx.c: small cleanups

2001-07-31  Allan Odgaard <duff@diku.dk>

    * Addressbook popup gadget is no longer in cyclechain as you can popup the
      book with the standard MUI popup key (defaults to ctrl-p) -- I really
      would prefer to tu
